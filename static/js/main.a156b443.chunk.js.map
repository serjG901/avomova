{"version":3,"sources":["graphql/query.ts","tags/Language.tsx","tags/MangaTag.tsx","tags/Status.tsx","common/LoadingCard.tsx","card/Poster.tsx","card/Title.tsx","card/TitleEn.tsx","tags/Tag.tsx","card/Tags.tsx","card/Description.tsx","common/LoadingDots.tsx","useLocalStorage.tsx","card/Player.tsx","card/Reader.tsx","card/Watch.tsx","card/Card.tsx","ShowCase2.tsx","card/CardLastUpdate.tsx","LastUpdate2.tsx","Marks.tsx","common/Background.tsx","tags/FilterTag.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["GET_MEDIA_LIST","gql","GET_MEDIA","GET_UPDATES_LIST","GET_MEDIA_EPISODES","GET_MEDIA_CHAPTERS","hoverStyle","test","navigator","userAgent","styleDub","styleSub","Language","value","mediaType","history","className","map","item","onClick","search","push","pathname","queryString","stringify","parse","location","language","style","MangaTag","Status","duraction","date","start","end","Date","updated","toLocaleDateString","EmptyCard","Poster","poster","title","slug","src","alt","en","be","Title","TitleEn","Tag","tag","notSearch","handleSearchTag","Array","isArray","Math","random","toString","Tags","country","year","studio","genres","translators","dubbers","editors","length","Description","description","LoadingDots","React","dots","setDots","timerId","setTimeout","clearTimeout","useLocalStorage","key","initialValue","window","localStorage","getItem","JSON","error","console","log","storedValue","setStoredValue","valueToStore","Function","setItem","Player","closePlayer","playerStore","setPlayerStore","marksStore","setMarksStore","topPosition","setTopPosition","width","height","ifarmeSize","setIfarmeSize","currentEpisod","setCurrentEpisod","loadingImage","setLoadingImage","useQuery","variables","fetchPolicy","loading","data","screenX","media","episodes","url","handleSetImageWidth","find","filter","allowFullScreen","onLoad","episod","type","episode","chapter","page","image","readerStore","setReaderStore","currentImage","setCurrentImage","pageNumber","setPageNumber","chapterNumber","setChapterNumber","imageWidth","setImageWidth","ReaderRef","screenTop","chapters","images","large","ref","prevPage","current","scrollIntoView","undefined","index","thumbnail","Watch","showPlayer","setShowPlayer","handleClosePlayer","Card","mediaId","status","ru","cardData","setCardData","cleanupFunction","backgroundImage","ShowCase","filters","DivRef","docs","setDocs","pagination","setPagination","limit","setLimit","offset","hidden","getMediaList","totalDocs","Object","keys","includes","every","doc","CardLastUpdate","currentType","setCurrentType","LastUpdate","getUpdatesList","handleType","Marks","mark","Background","FilterTag","slice","split","decodeURI","App","setMediaType","setType","setFilters","unlisten","listen","action","handleShowCaseSettings","href","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","addEventListener","event","preventDefault","dialogText","returnValue","client","ApolloClient","uri","cache","InMemoryCache","typePolicies","Media","merge","existing","incoming","ReactDOM","render","StrictMode","ApolloProvider","document","getElementById","URL","process","origin","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.a156b443.chunk.js","sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_MEDIA_LIST = gql`\r\n  query getMediaList(\r\n    $offset: Int!\r\n    $limit: Int!\r\n    $mediaType: MediaTypes!\r\n    $filters: MediaFilters\r\n  ) {\r\n    getMediaList(\r\n      offset: $offset\r\n      limit: $limit\r\n      mediaType: $mediaType\r\n      filters: $filters\r\n    ) {\r\n      docs {\r\n        mediaId\r\n        mediaType\r\n        slug\r\n        language\r\n        genres\r\n        studio\r\n        year\r\n        translators\r\n        dubbers\r\n        editors\r\n      }\r\n      totalDocs\r\n      limit\r\n      offset\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MEDIA = gql`\r\n  query media($slug: String!, $mediaType: MediaTypes!) {\r\n    media(slug: $slug, mediaType: $mediaType) {\r\n      mediaId\r\n      title {\r\n        be\r\n        ru\r\n        en\r\n        alt\r\n      }\r\n      description {\r\n        be\r\n        ru\r\n        en\r\n      }\r\n      studio\r\n      status\r\n      poster\r\n      country\r\n      year\r\n      duraction {\r\n        start\r\n        end\r\n      }\r\n      date {\r\n        created\r\n        updated\r\n      }\r\n      language\r\n      translators\r\n      dubbers\r\n      editors\r\n      genres\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_UPDATES_LIST = gql`\r\n  query getUpdatesList($offset: Int!, $limit: Int!, $type: UpdateType) {\r\n    getUpdatesList(offset: $offset, limit: $limit, type: $type) {\r\n      docs {\r\n        title {\r\n          ru\r\n          be\r\n          en\r\n          alt\r\n        }\r\n        url\r\n        poster\r\n        type\r\n        description {\r\n          ru\r\n          be\r\n          en\r\n        }\r\n        duraction {\r\n          start\r\n          end\r\n        }\r\n        date {\r\n          created\r\n          updated\r\n        }\r\n      }\r\n      totalDocs\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MEDIA_EPISODES = gql`\r\n  query media($slug: String!, $mediaType: MediaTypes!) {\r\n    media(slug: $slug, mediaType: $mediaType) {\r\n      mediaId\r\n      episodes {\r\n        id\r\n        mediaId\r\n        mediaType\r\n        contentType\r\n        type\r\n        episode\r\n        url\r\n        resource\r\n        thumbnail\r\n        view\r\n        date {\r\n          created\r\n          updated\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MEDIA_CHAPTERS = gql`\r\n  query media($slug: String!, $mediaType: MediaTypes!) {\r\n    media(slug: $slug, mediaType: $mediaType) {\r\n      mediaId\r\n      chapters {\r\n        chapter\r\n        images {\r\n          large\r\n          thumbnail\r\n        }\r\n        view\r\n        date {\r\n          created\r\n          updated\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import queryString from \"query-string\";\r\ninterface ILanguage {\r\n  value: string[];\r\n  mediaType: string;\r\n  history: any;\r\n}\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:text-indigo-900\"\r\n}`;\r\n\r\nconst style = `\r\n  select-none\r\n  filter \r\n  drop-shadow-lg\r\n  absolute \r\n  top-1 \r\n  -left-1 \r\n  flex\r\n  flex-col\r\n  max-w-max\r\n  text-white\r\n  `;\r\nconst styleDub = `\r\n  transition \r\n  ease-linear \r\n  bg-red-500 \r\n  cursor-pointer \r\n  ${hoverStyle}\r\n  `;\r\nconst styleSub = `\r\n  transition \r\n  ease-linear \r\n  bg-blue-500 \r\n  cursor-pointer \r\n  ${hoverStyle}\r\n  `;\r\nexport default function Language({ value, mediaType, history }: ILanguage) {\r\n  const handleSearchTag = (search: string | number) => {\r\n    history.push({\r\n      pathname: `/avomova/${mediaType}`,\r\n      search: `?${queryString.stringify({\r\n        ...queryString.parse(history.location.search),\r\n        language: search,\r\n      })}`,\r\n    });\r\n  };\r\n  return (\r\n    <div className={style}>\r\n      {value.map((item) => {\r\n        return (\r\n          <div\r\n            key={item}\r\n            className={`px-1 ${item === \"dub\" ? styleDub : styleSub}`}\r\n            onClick={() => handleSearchTag(item)}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","const hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:text-indigo-900\"\r\n}`;\r\n\r\nconst style = `\r\n  select-none\r\n  transition \r\n  ease-linear \r\n  filter \r\n  drop-shadow-lg\r\n  absolute \r\n  top-1 \r\n  -left-1 \r\n  flex\r\n  flex-col\r\n  max-w-max\r\n  text-white\r\n  cursor-pointer\r\n  ${hoverStyle}\r\n  `;\r\ninterface IMangaTag {\r\n  history: any;\r\n}\r\nexport default function MangaTag({ history }: IMangaTag) {\r\n  const handleSearchTag = (search: string | number) => {\r\n    history.push({\r\n      pathname: `/avomova/${search}`,\r\n      search: ``,\r\n    });\r\n  };\r\n  return (\r\n    <div className={style} onClick={() => handleSearchTag(\"manga\")}>\r\n      <div className={`px-1 bg-purple-500`}>manga</div>\r\n    </div>\r\n  );\r\n}\r\n","interface IStatus {\r\n  value: string;\r\n  duraction: {\r\n    start: number;\r\n    end: number;\r\n  };\r\n  date?: {\r\n    created: Date;\r\n    updated: Date;\r\n  };\r\n}\r\nconst style = `\r\n  filter\r\n  drop-shadow-lg\r\n  absolute \r\n  bottom-1 \r\n  -left-1 \r\n  flex\r\n  flex-col\r\n  max-w-max\r\n  text-white\r\n  `;\r\nexport default function Status({ value, duraction, date }: IStatus) {\r\n  return (\r\n    <div className={style}>\r\n      <div\r\n        className={`px-1 ${\r\n          value === \"finished\" ? \"bg-green-500\" : \"bg-yellow-500\"\r\n        }`}\r\n      >\r\n        <div>\r\n          {value} ({duraction.start} / {duraction.end})\r\n        </div>\r\n        {date ? (\r\n          <div className=\"text-sm text-black\">\r\n            {new Date(date.updated).toLocaleDateString()}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function EmptyCard() {\r\n  return (\r\n    <div className=\"animate-pulse flex w-full max-w-xs pl-2 py-1 m-4 bg-purple-400\">\r\n      <div className=\"w-1/3 bg-gray-500\"></div>\r\n      <div className=\"flex flex-col p-1 w-2/3\">\r\n        <div className=\"text-xl text-white text-left bg-gray-500 h-24 rounded mb-1\"></div>\r\n        <div className=\"text-sm text-gray-500 text-left bg-gray-500 h-12 rounded mb-1\"></div>\r\n        <div className=\"text-base text-black text-left overflow-hidden h-36 bg-gray-500 rounded mb-1\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","interface ITitle {\r\n  be: string;\r\n  ru: string;\r\n  en: string;\r\n  alt: string;\r\n}\r\n\r\ninterface IPoster {\r\n  poster: string;\r\n  title: ITitle;\r\n  slug: string;\r\n}\r\n\r\nexport default function Poster({ poster, title, slug }: IPoster) {\r\n  return (\r\n    <img\r\n      className=\"\"\r\n      src={`https://anibel.net/${poster}`}\r\n      alt={`${title.en}, ${title.be}, ${slug}`}\r\n    />\r\n  );\r\n}\r\n","interface ITitle {\r\n  be: string;\r\n  ru: string;\r\n  en: string;\r\n  alt: string;\r\n}\r\n\r\ninterface ITitleCard {\r\n  title: ITitle;\r\n}\r\n\r\nconst style = `\r\n  px-1\r\n  text-xl\r\n  text-indigo-900\r\n  text-left\r\n  leading-5\r\n  `;\r\n\r\nexport default function Title({ title }: ITitleCard) {\r\n  return <div className={style}>{title.be}</div>;\r\n}\r\n","interface ITitle {\r\n  be: string;\r\n  ru: string;\r\n  en: string;\r\n  alt: string;\r\n}\r\n\r\ninterface ITitleCard {\r\n  title: ITitle;\r\n}\r\n\r\nconst style = `\r\npx-1\r\ntext-sm \r\ntext-gray-800 \r\ntext-left\r\nitalic\r\nleading-5\r\n`;\r\n\r\nexport default function TitleEn({ title }: ITitleCard) {\r\n  return <div className={style}>{title.en}</div>;\r\n}\r\n","import queryString from \"query-string\";\r\ninterface ITag {\r\n  tag: string;\r\n  value: string | string[] | number;\r\n  mediaType: string;\r\n  notSearch?: boolean;\r\n  history: any;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nconst style = `\r\n  select-none\r\n  transition \r\n  ease-linear\r\n  cursor-pointer\r\n  bg-indigo-900\r\n  max-w-max\r\n  text-white\r\n  px-1\r\n  mb-1\r\n  ml-1\r\n  ${hoverStyle}\r\n  `;\r\nconst styleNot = `\r\n  max-w-max\r\n  text-indigo-900\r\n  px-1\r\n  mb-1\r\n  ml-1\r\n  `;\r\nexport default function Tag({\r\n  tag,\r\n  value,\r\n  mediaType,\r\n  notSearch,\r\n  history,\r\n}: ITag) {\r\n  const handleSearchTag = (search: string | number) => {\r\n    history.push({\r\n      pathname: `/avomova/${mediaType}`,\r\n      search: `?${queryString.stringify({\r\n        ...queryString.parse(history.location.search),\r\n        [`${tag}`]: search,\r\n      })}`,\r\n    });\r\n  };\r\n  if (Array.isArray(value)) {\r\n    return (\r\n      <div className=\"flex flex-wrap\">\r\n        {value.map((item) => {\r\n          return (\r\n            <div\r\n              key={Math.random().toString()}\r\n              className={style}\r\n              title={`search for ${item}`}\r\n              onClick={() => handleSearchTag(item)}\r\n            >\r\n              {item}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div\r\n        className={notSearch ? styleNot : style}\r\n        title={notSearch ? \"\" : `search for ${value}`}\r\n        onClick={() => {\r\n          if (!notSearch) handleSearchTag(value);\r\n        }}\r\n      >\r\n        {value}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Tag from \"../tags/Tag\";\r\n\r\ninterface ITags {\r\n  mediaType: string;\r\n  country: string | string[];\r\n  year: string | string[];\r\n  studio: string | string[];\r\n  genres: string | string[];\r\n  translators: string | string[];\r\n  dubbers: string | string[];\r\n  editors: string | string[];\r\n  history: any;\r\n}\r\n\r\nconst style = `\r\nflex \r\nflex-wrap \r\nleading-5 \r\nmb-2\r\nmt-2\r\n`;\r\n\r\nexport default function Tags({\r\n  mediaType,\r\n  country,\r\n  year,\r\n  studio,\r\n  genres,\r\n  translators,\r\n  dubbers,\r\n  editors,\r\n  history\r\n}: ITags) {\r\n  return (\r\n    <div className={style}>\r\n      {country ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Country:</div>\r\n          <Tag notSearch tag=\"country\" value={country} mediaType={mediaType} history={history}/>\r\n        </div>\r\n      ) : null}\r\n      {year ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Year:</div>\r\n          <Tag tag=\"year\" value={year} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {studio ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Studio:</div>\r\n          <Tag tag=\"studio\" value={studio} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {genres.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Genres:</div>\r\n          <Tag tag=\"genres\" value={genres} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {translators.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Translators:</div>\r\n          <Tag tag=\"translators\" value={translators} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n\r\n      {dubbers.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Dubbers:</div>\r\n          <Tag tag=\"dubbers\" value={dubbers} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {editors.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Editors:</div>\r\n          <Tag tag=\"editors\" value={editors} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","interface IDescription {\r\n  description: {\r\n    be: string;\r\n    ru: string;\r\n    en: string;\r\n  };\r\n}\r\n\r\nconst style = `\r\nflex\r\nflex-col\r\npy-1\r\npx-2 \r\ntext-base \r\ntext-black\r\ntext-left \r\nleading-5\r\n`;\r\n\r\nexport default function Description({ description }: IDescription) {\r\n  return (\r\n    <div className={style}>\r\n      <div className=\"text-sm text-gray-700 text-left\">Description:</div>\r\n      <div>{description.be}</div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport default function LoadingDots() {\r\n  const [dots, setDots] = React.useState(\"\");\r\n  React.useEffect(() => {\r\n    const timerId = setTimeout(() => {\r\n      if (dots === \"...\") {\r\n        setDots(\"\");\r\n      } else {\r\n        setDots(`${dots}.`);\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timerId);\r\n  }, [dots]);\r\n  return (\r\n    <div className=\"flex flex-row justify-center w-full animate-pulse\">\r\n      <div className=\"w-1/2 text-right\">loading</div>\r\n      <div className=\"w-1/2 text-left\">{dots}</div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport function useLocalStorage(key: string, initialValue: any) {\r\n  const [storedValue, setStoredValue] = React.useState(() => {\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return initialValue;\r\n    }\r\n  });\r\n  const setValue = (value: any) => {\r\n    try {\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      setStoredValue(valueToStore);\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return [storedValue, setValue];\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA_EPISODES } from \"../graphql/query\";\r\nimport LoadingDots from \"../common/LoadingDots\";\r\nimport { useLocalStorage } from \"../useLocalStorage\";\r\n\r\ninterface IPlayer {\r\n  slug: string;\r\n  mediaType: string;\r\n  closePlayer: () => void;\r\n}\r\n\r\nconst style = `\r\n  w-full \r\n  text-center\r\n  px-1\r\n  text-white \r\n  text-2xl \r\n  bg-indigo-900 \r\n`;\r\n\r\nexport default function Player({ slug, mediaType, closePlayer }: IPlayer) {\r\n  const [playerStore, setPlayerStore] = useLocalStorage(slug, \"\");\r\n  const [marksStore, setMarksStore] = useLocalStorage(\"marks\", []);\r\n\r\n  const [topPosition, setTopPosition] = React.useState(\"top-0px\");\r\n  const [ifarmeSize, setIfarmeSize] = React.useState({\r\n    width: \"360px\",\r\n    height: \"240px\"\r\n  });\r\n\r\n  const [currentEpisod, setCurrentEpisod] = React.useState(\"\");\r\n  console.log(slug, mediaType);\r\n\r\n  const [loadingImage, setLoadingImage] = React.useState(true);\r\n\r\n  const { loading, error, data } = useQuery(GET_MEDIA_EPISODES, {\r\n    variables: {\r\n      slug,\r\n      mediaType\r\n    },\r\n    fetchPolicy: \"cache-and-network\"\r\n  });\r\n  React.useEffect(() => {\r\n    setTopPosition(`top-${window.screenX}px`);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (!loading && data)\r\n      setCurrentEpisod(\r\n        playerStore !== \"\" ? playerStore : data.media.episodes[0].url\r\n      );\r\n  }, [loading, data, playerStore]);\r\n\r\n  if (loading)\r\n    return (\r\n      <button className={style}>\r\n        <LoadingDots />\r\n      </button>\r\n    );\r\n  if (error) return <button className={style}>error :(</button>;\r\n\r\n  const handleSetImageWidth = (value: string) => {\r\n    if (value === \"+\") {\r\n      switch (ifarmeSize.width) {\r\n        case \"1215px\": {\r\n          break;\r\n        }\r\n        case \"810px\": {\r\n          setIfarmeSize({ width: \"1215px\", height: \"810px\" });\r\n          break;\r\n        }\r\n        case \"540px\": {\r\n          setIfarmeSize({ width: \"810px\", height: \"540px\" });\r\n          break;\r\n        }\r\n        case \"360px\": {\r\n          setIfarmeSize({ width: \"540px\", height: \"360px\" });\r\n          break;\r\n        }\r\n        case \"240px\": {\r\n          setIfarmeSize({ width: \"360px\", height: \"240px\" });\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      switch (ifarmeSize.width) {\r\n        case \"1215px\": {\r\n          setIfarmeSize({ width: \"810px\", height: \"540px\" });\r\n          break;\r\n        }\r\n        case \"810px\": {\r\n          setIfarmeSize({ width: \"540px\", height: \"360px\" });\r\n          break;\r\n        }\r\n        case \"540px\": {\r\n          setIfarmeSize({ width: \"360px\", height: \"240px\" });\r\n          break;\r\n        }\r\n        case \"360px\": {\r\n          setIfarmeSize({ width: \"240px\", height: \"160px\" });\r\n          break;\r\n        }\r\n        case \"240px\": {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMarks = (value: { slug: string; mediaType: string }) => {\r\n    if (\r\n      marksStore.find(\r\n        (item: { slug: string; mediaType: string }) => item.slug === value.slug\r\n      )\r\n    ) {\r\n      setMarksStore(\r\n        marksStore.filter(\r\n          (item: { slug: string; mediaType: string }) =>\r\n            item.slug !== value.slug\r\n        )\r\n      );\r\n    } else {\r\n      setMarksStore([...marksStore, value]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${topPosition} absolute left-0 z-10 bg-black bg-opacity-90 w-full flex flex-col`}\r\n    >\r\n      <div className=\"flex justify-between\">\r\n        <div className=\"flex self-center text-white\">\r\n          <div\r\n            className={`${\r\n              ifarmeSize.width === \"240px\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"-\");\r\n            }}\r\n          >\r\n            -\r\n          </div>\r\n          <div\r\n            className={`${\r\n              ifarmeSize.width === \"1215px\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"+\");\r\n            }}\r\n          >\r\n            +\r\n          </div>\r\n        </div>\r\n        <div\r\n          onClick={() => {\r\n            handleMarks({ slug, mediaType });\r\n          }}\r\n          className=\"text-indigo-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-indigo-900 hover:bg-indigo-900 hover:text-black\"\r\n        >\r\n          {marksStore.find(\r\n            (item: { slug: string; mediaType: string }) => item.slug === slug\r\n          )\r\n            ? \"delete from marks\"\r\n            : \"add to marks\"}\r\n        </div>\r\n        <div\r\n          title=\"close reader\"\r\n          className=\"text-red-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-red-900 hover:bg-red-900 hover:text-black\"\r\n          onClick={closePlayer}\r\n        >\r\n          close\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col self-center\">\r\n        <iframe\r\n          className={`${loadingImage ? \"animate-pulse\" : \"\"}`}\r\n          title=\"player\"\r\n          width={ifarmeSize.width}\r\n          height={ifarmeSize.height}\r\n          allowFullScreen={true}\r\n          src={currentEpisod}\r\n          onLoad={() => setLoadingImage(false)}\r\n        >\r\n          Sorry!\r\n        </iframe>\r\n        <div\r\n          className={`${\r\n            loadingImage ? \"text-white animate-pulse\" : \"text-opacity-0\"\r\n          }`}\r\n        >\r\n          <LoadingDots />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col\">\r\n        <div className=\"flex mb-4 flex-wrap p-2\">\r\n          {data.media.episodes.map((episod: any) => {\r\n            return (\r\n              episod.type === \"dub\" && (\r\n                <div\r\n                  key={Math.random().toString()}\r\n                  className={`${\r\n                    currentEpisod === episod.url ? \"bg-gray-300\" : \"bg-gray-700\"\r\n                  } w-12 h-12 border border-black text-sm cursor-pointer transition ease-linear hover:bg-gray-300`}\r\n                  onClick={() => {\r\n                    setLoadingImage(true);\r\n                    setCurrentEpisod(episod.url);\r\n                    setPlayerStore(episod.url);\r\n                  }}\r\n                >\r\n                  <p>{episod.episode}</p>\r\n                  <p>{episod.type}</p>\r\n                </div>\r\n              )\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"flex mb-4 flex-wrap p-2\">\r\n          {data.media.episodes.map((episod: any) => {\r\n            return (\r\n              episod.type === \"sub\" && (\r\n                <div\r\n                  key={Math.random().toString()}\r\n                  className={`${\r\n                    currentEpisod === episod.url ? \"bg-gray-300\" : \"bg-gray-700\"\r\n                  } w-12 h-12 border border-black text-sm cursor-pointer transition ease-linear hover:bg-gray-300`}\r\n                  onClick={() => {\r\n                    setLoadingImage(true);\r\n                    setCurrentEpisod(episod.url);\r\n                    setPlayerStore(episod.url);\r\n                  }}\r\n                >\r\n                  <p>{episod.episode}</p>\r\n                  <p>{episod.type}</p>\r\n                </div>\r\n              )\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA_CHAPTERS } from \"../graphql/query\";\r\nimport LoadingDots from \"../common/LoadingDots\";\r\nimport { useLocalStorage } from \"../useLocalStorage\";\r\n\r\ninterface IPlayer {\r\n  slug: string;\r\n  mediaType: string;\r\n  closePlayer: () => void;\r\n}\r\n\r\nconst style = `\r\n  w-full \r\n  text-center\r\n  px-1\r\n  text-white \r\n  text-2xl \r\n  bg-indigo-900 \r\n`;\r\n\r\nexport default function Player({ slug, mediaType, closePlayer }: IPlayer) {\r\n  const [readerStore, setReaderStore] = useLocalStorage(slug, {\r\n    chapter: 0,\r\n    page: 0,\r\n    image: \"\"\r\n  });\r\n  const [marksStore, setMarksStore] = useLocalStorage(\"marks\", []);\r\n\r\n  const [topPosition, setTopPosition] = React.useState(\"top-0px\");\r\n\r\n  const [currentImage, setCurrentImage] = React.useState(\"\");\r\n\r\n\r\n  const [loadingImage, setLoadingImage] = React.useState(true);\r\n\r\n  const [pageNumber, setPageNumber] = React.useState(0);\r\n  const [chapterNumber, setChapterNumber] = React.useState(1);\r\n\r\n  const [imageWidth, setImageWidth] = React.useState(\"w-3/4\");\r\n\r\n  const ReaderRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const { loading, error, data } = useQuery(GET_MEDIA_CHAPTERS, {\r\n    variables: {\r\n      slug,\r\n      mediaType\r\n    },\r\n    fetchPolicy: \"cache-and-network\"\r\n  });\r\n  React.useEffect(() => {\r\n    setTopPosition(`top-${window.screenTop}px`);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (!loading && data) {\r\n      if (readerStore && readerStore.image !== \"\") {\r\n        setCurrentImage(readerStore.image);\r\n        setChapterNumber(readerStore.chapter);\r\n        setPageNumber(readerStore.page);\r\n      } else {\r\n        setCurrentImage(\r\n          data.media.chapters.find((chapter: any) => chapter.chapter === 1)\r\n            .images[0].large\r\n        );\r\n      }\r\n    }\r\n  }, [loading, data, readerStore]);\r\n\r\n  if (loading)\r\n    return (\r\n      <button className={style}>\r\n        <LoadingDots />\r\n      </button>\r\n    );\r\n  if (error) return <button className={style}>error :(</button>;\r\n\r\n  const nextPage = () => {\r\n    if (\r\n      data.media.chapters.find((chapter: any) => {\r\n        return chapter.chapter === chapterNumber;\r\n      }).images[pageNumber + 1] !== undefined\r\n    ) {\r\n      setLoadingImage(true);\r\n      setPageNumber(pageNumber + 1);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber + 1].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber,\r\n        page: pageNumber + 1,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber + 1].large\r\n      });\r\n    } else if (\r\n      data.media.chapters.find((chapter: any) => {\r\n        return chapter.chapter === chapterNumber + 1;\r\n      }) !== undefined\r\n    ) {\r\n      setLoadingImage(true);\r\n      setChapterNumber(chapterNumber + 1);\r\n      setPageNumber(0);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber + 1;\r\n        }).images[0].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber + 1,\r\n        page: 0,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber + 1;\r\n        }).images[0].large\r\n      });\r\n    } else {\r\n      setLoadingImage(true);\r\n      setChapterNumber(1);\r\n      setPageNumber(0);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === 1;\r\n        }).images[0].large\r\n      );\r\n      setReaderStore({\r\n        chapter: 1,\r\n        page: 0,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === 1;\r\n        }).images[0].large\r\n      });\r\n    }\r\n  };\r\n\r\n  const prevPage = () => {\r\n    if (pageNumber !== 0) {\r\n      setLoadingImage(true);\r\n      setPageNumber(pageNumber - 1);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber - 1].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber,\r\n        page: pageNumber - 1,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber - 1].large\r\n      });\r\n    } else if (pageNumber === 0 && chapterNumber !== 1) {\r\n      setLoadingImage(true);\r\n      setChapterNumber(chapterNumber - 1);\r\n      setPageNumber(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber - 1;\r\n        }).images.length - 1\r\n      );\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber - 1;\r\n        }).images[\r\n          data.media.chapters.find((chapter: any) => {\r\n            return chapter.chapter === chapterNumber - 1;\r\n          }).images.length - 1\r\n        ].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber - 1,\r\n        page:\r\n          data.media.chapters.find((chapter: any) => {\r\n            return chapter.chapter === chapterNumber - 1;\r\n          }).images.length - 1,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber - 1;\r\n        }).images[\r\n          data.media.chapters.find((chapter: any) => {\r\n            return chapter.chapter === chapterNumber - 1;\r\n          }).images.length - 1\r\n        ].large\r\n      });\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSetImageWidth = (value: string) => {\r\n    if (value === \"+\") {\r\n      switch (imageWidth) {\r\n        case \"w-3/4\": {\r\n          break;\r\n        }\r\n        case \"w-2/4\": {\r\n          setImageWidth(\"w-3/4\");\r\n          break;\r\n        }\r\n        case \"w-1/4\": {\r\n          setImageWidth(\"w-2/4\");\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      switch (imageWidth) {\r\n        case \"w-3/4\": {\r\n          setImageWidth(\"w-2/4\");\r\n          break;\r\n        }\r\n        case \"w-2/4\": {\r\n          setImageWidth(\"w-1/4\");\r\n          break;\r\n        }\r\n        case \"w-1/4\": {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMarks = (value: { slug: string; mediaType: string }) => {\r\n    if (\r\n      marksStore.find(\r\n        (item: { slug: string; mediaType: string }) => item.slug === value.slug\r\n      )\r\n    ) {\r\n      setMarksStore(\r\n        marksStore.filter(\r\n          (item: { slug: string; mediaType: string }) =>\r\n            item.slug !== value.slug\r\n        )\r\n      );\r\n    } else {\r\n      setMarksStore([...marksStore, value]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={ReaderRef}\r\n      className={`${topPosition} absolute left-0 z-10 bg-black bg-opacity-90 w-full flex flex-col`}\r\n    >\r\n      <div className=\"flex justify-between\">\r\n        <div className=\"flex self-center text-white\">\r\n          <div\r\n            className={`${\r\n              imageWidth === \"w-1/4\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"-\");\r\n            }}\r\n          >\r\n            -\r\n          </div>\r\n          <div\r\n            className={`${\r\n              imageWidth === \"w-3/4\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"+\");\r\n            }}\r\n          >\r\n            +\r\n          </div>\r\n        </div>\r\n        <div\r\n          onClick={() => {\r\n            handleMarks({ slug, mediaType });\r\n          }}\r\n          className=\"text-indigo-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-indigo-900 hover:bg-indigo-900 hover:text-black\"\r\n        >\r\n          {marksStore.find(\r\n            (item: { slug: string; mediaType: string }) => item.slug === slug\r\n          )\r\n            ? \"delete from marks\"\r\n            : \"add to marks\"}\r\n        </div>\r\n        <div\r\n          title=\"close reader\"\r\n          className=\"text-red-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-red-900 hover:bg-red-900 hover:text-black\"\r\n          onClick={closePlayer}\r\n        >\r\n          close\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col self-center\">\r\n        <div className={`text-white ${loadingImage ? \"animate-pulse\" : \"\"}`}>\r\n          {loadingImage ? (\r\n            <LoadingDots />\r\n          ) : (\r\n            `chapter ${chapterNumber}: page ${pageNumber}`\r\n          )}\r\n        </div>\r\n        <div className=\"flex justify-center\">\r\n          <div\r\n            title=\"previous page\"\r\n            className=\"px-2 flex justify-center items-center cursor-pointer w-1/6 text-white bg-gray-800 hover:bg-gray-600\"\r\n            onClick={() => {\r\n              if (!loadingImage) {\r\n                prevPage();\r\n                ReaderRef.current?.scrollIntoView();\r\n              }\r\n            }}\r\n          >\r\n            <div>prev</div>\r\n          </div>\r\n          <img\r\n            className={`${imageWidth} ${loadingImage ? \"animate-pulse\" : \"\"}`}\r\n            alt={slug}\r\n            src={currentImage}\r\n            onLoad={() => setLoadingImage(false)}\r\n          />\r\n          <div\r\n            title=\"next page\"\r\n            className=\"px-2 flex justify-center items-center cursor-pointer w-1/6 text-white bg-gray-800 hover:bg-gray-600\"\r\n            onClick={() => {\r\n              if (!loadingImage) {\r\n                nextPage();\r\n                ReaderRef.current?.scrollIntoView();\r\n              }\r\n            }}\r\n          >\r\n            <div>next</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-wrap\">\r\n        {data.media.chapters.map((chapter: any) => {\r\n          return (\r\n            <div\r\n              key={Math.random().toString()}\r\n              className=\"flex mb-4 flex-wrap p-2\"\r\n            >\r\n              <div className=\"flex flex-col\">\r\n                <div className=\"text-white text-left\">\r\n                  chapter {chapter.chapter}\r\n                </div>\r\n                <div className=\"flex flex-wrap\">\r\n                  {chapter.images.map(\r\n                    (\r\n                      image: { large: string; thumbnail: string },\r\n                      index: number\r\n                    ) => {\r\n                      return (\r\n                        <div\r\n                          key={Math.random().toString()}\r\n                          className={`${\r\n                            currentImage === image.large\r\n                              ? \"bg-gray-300\"\r\n                              : \"bg-gray-900\"\r\n                          } w-24 h-40 overflow-y-scroll scroll-none p-2 border border-black text-sm cursor-pointer transition ease-linear hover:bg-gray-300`}\r\n                          onClick={() => {\r\n                            setLoadingImage(true);\r\n                            setChapterNumber(chapter.chapter);\r\n                            setPageNumber(index);\r\n                            setCurrentImage(image.large);\r\n                            setReaderStore({\r\n                              chapter: chapter.chapter,\r\n                              page: index,\r\n                              image: image.large\r\n                            });\r\n                            ReaderRef.current?.scrollIntoView();\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"tittle\"\r\n                            src={image.thumbnail}\r\n                            loading=\"lazy\"\r\n                          />\r\n                        </div>\r\n                      );\r\n                    }\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport Player from \"./Player\";\r\nimport Reader from \"./Reader\";\r\n\r\ninterface IWatch {\r\n  type: string;\r\n  slug: string;\r\n}\r\n\r\nconst style = `\r\n  transition \r\n  ease-linear \r\n  w-full \r\n  text-center\r\n  px-1\r\n  text-white \r\n  text-2xl \r\n  bg-indigo-900 \r\n  hover:bg-indigo-400 \r\n`;\r\n\r\nexport default function Watch({ type, slug }: IWatch) {\r\n  let mediaType = \"\";\r\n  switch (type) {\r\n    case \"anime\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"DUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"SUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"cinema\":\r\n      mediaType = \"cinema\";\r\n      break;\r\n    case \"CINEMA\":\r\n      mediaType = \"cinema\";\r\n      break;\r\n    case \"manga\":\r\n      mediaType = \"manga\";\r\n      break;\r\n    case \"MANGA\":\r\n      mediaType = \"manga\";\r\n      break;\r\n  }\r\n\r\n  const [showPlayer, setShowPlayer] = React.useState(false);\r\n  const handleClosePlayer = () => {\r\n    if (showPlayer) setShowPlayer(false);\r\n  };\r\n\r\n  const handleOpenPlayer = () => {\r\n    if (!showPlayer) setShowPlayer(true);\r\n  };\r\n  return (\r\n    <>\r\n      {!showPlayer ? (\r\n        <button className={style} onClick={handleOpenPlayer}>\r\n          watch\r\n        </button>\r\n      ) : mediaType === \"manga\" ? (\r\n        <Reader\r\n          slug={slug}\r\n          mediaType={mediaType}\r\n          closePlayer={handleClosePlayer}\r\n        />\r\n      ) : (\r\n        <Player\r\n          slug={slug}\r\n          mediaType={mediaType}\r\n          closePlayer={handleClosePlayer}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA } from \"../graphql/query\";\r\nimport Language from \"../tags/Language\";\r\nimport MangaTag from \"../tags/MangaTag\";\r\nimport Status from \"../tags/Status\";\r\nimport LoadingCard from \"../common/LoadingCard\";\r\nimport Poster from \"./Poster\";\r\nimport Title from \"./Title\";\r\nimport TitleEn from \"./TitleEn\";\r\nimport Tags from \"./Tags\";\r\nimport Description from \"./Description\";\r\nimport Watch from \"./Watch\";\r\n\r\ninterface ICard {\r\n  mediaId: string | number;\r\n  slug: string;\r\n  mediaType: string;\r\n  history: any;\r\n}\r\n\r\nconst style = `\r\nrelative \r\nflex \r\nw-full \r\nmax-w-xs \r\npl-2 \r\npy-2\r\nbg-purple-400\r\nbg-opacity-20\r\nbg-cover\r\n`;\r\n\r\nexport default function Card({ mediaId, slug, mediaType, history }: ICard) {\r\n  const [cardData, setCardData] = React.useState({\r\n    loading: true,\r\n    error: undefined,\r\n    data: {\r\n      media: {\r\n        language: [],\r\n        poster: \"\",\r\n        status: \"\",\r\n        duraction: {\r\n          start: 0,\r\n          end: 0,\r\n        },\r\n        title: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n          alt: \"\",\r\n        },\r\n        description: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n        },\r\n        country: \"\",\r\n        year: [],\r\n        studio: \"\",\r\n        genres: [],\r\n        translators: [],\r\n        dubbers: [],\r\n        editors: [],\r\n      },\r\n    },\r\n  });\r\n  const { loading, error, data } = useQuery(GET_MEDIA, {\r\n    variables: {\r\n      slug,\r\n      mediaType,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && !loading && !error && data) {\r\n      if (cardData.data !== data) {\r\n        setCardData({ loading, error, data });\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [cardData.data, loading, error, data]);\r\n\r\n  if (cardData.loading) return <LoadingCard />;\r\n  if (cardData.error) return <p>Error :(</p>;\r\n\r\n  console.log(mediaType);\r\n\r\n  return (\r\n    <div className=\"flex flex-col m-4\">\r\n      <div\r\n        className={style}\r\n        style={{\r\n          backgroundImage: `url(${`https://anibel.net/${cardData.data.media.poster}`})`,\r\n        }}\r\n      >\r\n        {cardData.data.media.language.length ? (\r\n          <Language\r\n            value={cardData.data.media.language}\r\n            mediaType={mediaType}\r\n            history={history}\r\n          />\r\n        ) : null}\r\n        {mediaType === \"manga\" && <MangaTag history={history} />}\r\n        <Status\r\n          value={cardData.data.media.status}\r\n          duraction={cardData.data.media.duraction}\r\n        />\r\n        <div className=\"w-1/3 self-center\">\r\n          <Poster\r\n            poster={cardData.data.media.poster}\r\n            title={cardData.data.media.title}\r\n            slug={slug}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col w-2/3 h-72 overflow-y-auto scroll-none\">\r\n          <div className=\"bg-white bg-opacity-90 flex flex-col\">\r\n            <Title title={cardData.data.media.title} />\r\n            <TitleEn title={cardData.data.media.title} />\r\n            <Description description={cardData.data.media.description} />\r\n            <Tags\r\n              mediaType={mediaType}\r\n              country={cardData.data.media.country}\r\n              year={cardData.data.media.year}\r\n              studio={cardData.data.media.studio}\r\n              genres={cardData.data.media.genres}\r\n              translators={cardData.data.media.translators}\r\n              dubbers={cardData.data.media.dubbers}\r\n              editors={cardData.data.media.editors}\r\n              history={history}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Watch type={mediaType} slug={slug} />\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { GET_MEDIA_LIST } from \"./graphql/query\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport Card from \"./card/Card\";\r\nimport LoadingDots from \"./common/LoadingDots\";\r\n\r\ninterface KeyString {\r\n  [key: string]: any;\r\n}\r\n\r\ninterface ICard extends KeyString {\r\n  mediaId: string;\r\n  slug: string;\r\n  mediaType: string;\r\n  language?: string[];\r\n  genres?: string[];\r\n  studio?: string;\r\n  year?: number;\r\n  translators?: string[];\r\n  dubbers?: string[];\r\n  editors?: string[];\r\n}\r\n\r\ninterface IFilters extends KeyString {\r\n  language?: string;\r\n  genres?: string;\r\n  studio?: string;\r\n  year?: number;\r\n  status?: string;\r\n  translators?: string;\r\n  dubbers?: string;\r\n  editors?: string;\r\n  hidden?: boolean;\r\n}\r\n\r\ninterface IShowCase {\r\n  mediaType: string;\r\n  filters?: IFilters;\r\n  history: any;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nexport default function ShowCase({\r\n  mediaType,\r\n  filters = {},\r\n  history,\r\n}: IShowCase) {\r\n  const DivRef = React.useRef<HTMLDivElement>(null);\r\n  const [docs, setDocs] = React.useState<ICard[]>([]);\r\n\r\n  const [pagination, setPagination] = React.useState(0);\r\n  const [limit, setLimit] = React.useState(0);\r\n  const { loading, error, data } = useQuery(GET_MEDIA_LIST, {\r\n    variables: {\r\n      offset: 0,\r\n      limit,\r\n      mediaType,\r\n      filters: { hidden: false },\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && data) {\r\n      if (data.getMediaList.totalDocs > data.getMediaList.docs.length) {\r\n        setLimit(data.getMediaList.totalDocs);\r\n      } else {\r\n        setDocs(\r\n          data.getMediaList.docs.filter((item: ICard) => {\r\n            return Object.keys(filters).length === 0\r\n              ? true\r\n              : Object.keys(filters)\r\n                  .map((key: string) => {\r\n                    return key === \"year\"\r\n                      ? item[`${key}`] === +filters[`${key}`]\r\n                      : key === \"studio\"\r\n                      ? item[`${key}`] === filters[`${key}`]\r\n                      : item[`${key}`] &&\r\n                        Array.isArray(item[`${key}`]) &&\r\n                        item[`${key}`].includes(filters[`${key}`]);\r\n                  })\r\n                  .every((item: boolean) => item === true);\r\n          })\r\n        );\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [data, filters]);\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction) {\r\n      setPagination(docs.length < 10 ? docs.length : 10);\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [docs.length]);\r\n\r\n  console.log(docs);\r\n\r\n  if (error) return <p>Error :(</p>;\r\n\r\n  const showMore = () => {\r\n    if (data && pagination !== docs.length) {\r\n      if (pagination + 10 < docs.length) {\r\n        setPagination(pagination + 10);\r\n      } else {\r\n        setPagination(docs.length);\r\n      }\r\n    }\r\n  };\r\n\r\n  return data && docs.length ? (\r\n    <div className=\"flex flex-wrap\" ref={DivRef}>\r\n      {docs.map(\r\n        (doc: ICard, index) =>\r\n          index < pagination && (\r\n            <Card\r\n              key={doc.slug}\r\n              mediaId={doc.mediaId}\r\n              slug={doc.slug}\r\n              mediaType={doc.mediaType}\r\n              history={history}\r\n            />\r\n          )\r\n      )}\r\n      {data && pagination !== docs.length ? (\r\n        <div\r\n          className={`select-none cursor-pointer flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900 ${hoverStyle}`}\r\n          onClick={showMore}\r\n        >\r\n          <div>show more</div>\r\n          <div>\r\n            {pagination} from {docs.length}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className={`select-none flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900`}\r\n        >\r\n          <div>no more</div>\r\n          <div>\r\n            {pagination} from {docs.length}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {pagination > 10 && (\r\n        <div\r\n          className={`select-none filter drop-shadow-lg fixed px-2 py-4 cursor-pointer right-1 bottom-12 text-white rounded-full bg-indigo-900 ${hoverStyle}`}\r\n          onClick={() => DivRef.current?.scrollIntoView()}\r\n        >\r\n          to UP\r\n        </div>\r\n      )}\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-white m-4\">\r\n      {loading ? <LoadingDots /> : !data ? \"NOT FOUND\" : null}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA } from \"../graphql/query\";\r\nimport Language from \"../tags/Language\";\r\nimport MangaTag from \"../tags/MangaTag\";\r\nimport Status from \"../tags/Status\";\r\nimport LoadingCard from \"../common/LoadingCard\";\r\nimport Poster from \"./Poster\";\r\nimport Title from \"./Title\";\r\nimport TitleEn from \"./TitleEn\";\r\nimport Tags from \"./Tags\";\r\nimport Description from \"./Description\";\r\nimport Watch from \"./Watch\";\r\n\r\ninterface ICardLastUpdate {\r\n  url: string;\r\n  type: string;\r\n  duraction: {\r\n    start: number;\r\n    end: number;\r\n  };\r\n  date: {\r\n    created: Date;\r\n    updated: Date;\r\n  };\r\n  history: any;\r\n}\r\n\r\nconst style = `\r\nrelative \r\nflex \r\nw-full \r\nmax-w-xs \r\npl-2 \r\npy-2\r\nbg-purple-400\r\nbg-opacity-20\r\nbg-cover\r\n`;\r\n\r\nexport default function CardLastUpdate({\r\n  url,\r\n  type,\r\n  duraction,\r\n  date,\r\n  history,\r\n}: ICardLastUpdate) {\r\n  let mediaType = \"anime\";\r\n  switch (type) {\r\n    case \"DUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"SUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"CINEMA\":\r\n      mediaType = \"cinema\";\r\n      break;\r\n    case \"MANGA\":\r\n      mediaType = \"manga\";\r\n      break;\r\n  }\r\n  const [cardData, setCardData] = React.useState({\r\n    loading: true,\r\n    error: undefined,\r\n    data: {\r\n      media: {\r\n        language: [],\r\n        poster: \"\",\r\n        status: \"\",\r\n        duraction: {\r\n          start: 0,\r\n          end: 0,\r\n        },\r\n        title: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n          alt: \"\",\r\n        },\r\n        description: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n        },\r\n        country: \"\",\r\n        year: [],\r\n        studio: \"\",\r\n        genres: [],\r\n        translators: [],\r\n        dubbers: [],\r\n        editors: [],\r\n      },\r\n    },\r\n  });\r\n  const [currentType, setCurrentType] = React.useState(mediaType);\r\n  const { loading, error, data } = useQuery(GET_MEDIA, {\r\n    variables: {\r\n      slug: url,\r\n      mediaType: currentType,\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction) {\r\n      if (error && currentType === \"anime\") setCurrentType(\"cinema\");\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [error, currentType]);\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && !loading && !error && data) {\r\n      if (cardData.data !== data) {\r\n        setCardData({ loading, error, data });\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [cardData.data, loading, error, data]);\r\n\r\n  if (cardData.loading) return <LoadingCard />;\r\n  if (cardData.error) return <p>Error for {url}</p>;\r\n\r\n  return cardData.data !== null ? (\r\n    <div className=\"flex flex-col m-4\">\r\n      <div\r\n        className={style}\r\n        style={{\r\n          backgroundImage: `url(${`https://anibel.net/${cardData.data.media.poster}`})`,\r\n        }}\r\n      >\r\n        {cardData.data.media.language.length ? (\r\n          <Language\r\n            value={cardData.data.media.language}\r\n            mediaType={mediaType}\r\n            history={history}\r\n          />\r\n        ) : null}\r\n        {mediaType === \"manga\" && <MangaTag history={history} />}\r\n        <Status\r\n          value={duraction.start === duraction.end ? \"finished\" : \"ongoing\"}\r\n          duraction={duraction}\r\n          date={date}\r\n        />\r\n        <div className=\"w-1/3 self-center\">\r\n          <Poster\r\n            poster={cardData.data.media.poster}\r\n            title={cardData.data.media.title}\r\n            slug={url}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col w-2/3 h-72 overflow-y-auto scroll-none\">\r\n          <div className=\"bg-white bg-opacity-90 flex flex-col\">\r\n            <Title title={cardData.data.media.title} />\r\n            <TitleEn title={cardData.data.media.title} />{\" \"}\r\n            <Description description={cardData.data.media.description} />\r\n            <Tags\r\n              mediaType={mediaType}\r\n              country={cardData.data.media.country}\r\n              year={cardData.data.media.year}\r\n              studio={cardData.data.media.studio}\r\n              genres={cardData.data.media.genres}\r\n              translators={cardData.data.media.translators}\r\n              dubbers={cardData.data.media.dubbers}\r\n              editors={cardData.data.media.editors}\r\n              history={history}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Watch type={currentType} slug={url} />\r\n    </div>\r\n  ) : null;\r\n}\r\n","import * as React from \"react\";\r\nimport { GET_UPDATES_LIST } from \"./graphql/query\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport CardLastUpdate from \"./card/CardLastUpdate\";\r\nimport LoadingDots from \"./common/LoadingDots\";\r\n\r\ninterface ICardLastUpdate {\r\n  url: string;\r\n  type: string;\r\n  duraction: {\r\n    start: number;\r\n    end: number;\r\n  };\r\n  date: {\r\n    created: Date;\r\n    updated: Date;\r\n  };\r\n}\r\n\r\ninterface ILastUpdate {\r\n  type: string;\r\n  history: any;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nexport default function LastUpdate({ type, history }: ILastUpdate) {\r\n  const DivRef = React.useRef<HTMLDivElement>(null);\r\n  const [docs, setDocs] = React.useState<ICardLastUpdate[]>([]);\r\n  const [pagination, setPagination] = React.useState(0);\r\n  const [limit, setLimit] = React.useState(0);\r\n\r\n  const { loading, error, data } = useQuery(GET_UPDATES_LIST, {\r\n    variables: {\r\n      offset: 0,\r\n      limit,\r\n      type: \"ALL\",\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && data) {\r\n      if (data.getUpdatesList.totalDocs > data.getUpdatesList.docs.length) {\r\n        setLimit(data.getUpdatesList.totalDocs);\r\n      } else {\r\n        setDocs(\r\n          data.getUpdatesList.docs.filter((item: ICardLastUpdate) =>\r\n            type === \"ALL\" ? true : item.type === type\r\n          )\r\n        );\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [data, type]);\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction) {\r\n      setPagination(docs.length < 10 ? docs.length : 10);\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [docs.length]);\r\n\r\n  console.log(docs);\r\n\r\n  if (error) return <p>Error :(</p>;\r\n\r\n  const showMore = () => {\r\n    if (data && pagination !== docs.length) {\r\n      if (pagination + 10 < docs.length) {\r\n        setPagination(pagination + 10);\r\n      } else {\r\n        setPagination(docs.length);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleType = (type: string) => {\r\n    if (type === \"ALL\") {\r\n      history.push({ pathname: `${history.location.pathname}`, search: \"\" });\r\n    } else {\r\n      history.push({\r\n        pathname: `${history.location.pathname}`,\r\n        search: `?type=${type}`,\r\n      });\r\n    }\r\n  };\r\n\r\n  return data && docs.length ? (\r\n    <div className=\"flex flex-col\" ref={DivRef}>\r\n      <div className=\"flex flex-wrap\">\r\n        <div\r\n          onClick={() => handleType(\"ALL\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"ALL\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          ALL\r\n        </div>\r\n        <div\r\n          onClick={() => handleType(\"dub\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"DUB\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          DUB\r\n        </div>\r\n        <div\r\n          onClick={() => handleType(\"sub\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"SUB\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          SUB\r\n        </div>\r\n        <div\r\n          onClick={() => handleType(\"manga\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"MANGA\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          MANGA\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-wrap\">\r\n        {docs.map(\r\n          (doc: ICardLastUpdate, index) =>\r\n            index < pagination && (\r\n              <CardLastUpdate\r\n                key={doc.url + doc.date.updated}\r\n                url={doc.url}\r\n                type={doc.type}\r\n                duraction={doc.duraction}\r\n                date={doc.date}\r\n                history={history}\r\n              />\r\n            )\r\n        )}\r\n        {data && pagination !== docs.length ? (\r\n          <div\r\n            className={`select-none cursor-pointer flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900 ${hoverStyle}`}\r\n            onClick={showMore}\r\n          >\r\n            <div>show more</div>\r\n            <div>\r\n              {pagination} from {docs.length}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className={`select-none flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900`}\r\n          >\r\n            <div>no more</div>\r\n            <div>\r\n              {pagination} from {docs.length}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {pagination > 10 && (\r\n        <div\r\n          className={`select-none filter drop-shadow-lg fixed px-2 py-4 cursor-pointer right-1 bottom-24 text-white rounded-full bg-indigo-900 ${hoverStyle}`}\r\n          onClick={() => DivRef.current?.scrollIntoView()}\r\n        >\r\n          to UP\r\n        </div>\r\n      )}\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-white m-4\">\r\n      {loading ? <LoadingDots /> : !data ? \"NOT FOUND\" : null}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport Card from \"./card/Card\";\r\nimport { useLocalStorage } from \"./useLocalStorage\";\r\n\r\ninterface IMark {\r\n  slug: string;\r\n  mediaType: string;\r\n}\r\n\r\ninterface IMarks {\r\n  history: any;\r\n}\r\n\r\nexport default function Marks({ history }: IMarks) {\r\n  const [marksStore] = useLocalStorage(\"marks\", []);\r\n\r\n  return marksStore.length ? (\r\n    <div className=\"flex flex-wrap\">\r\n      {marksStore.map((mark: IMark, index: number) => (\r\n        <Card\r\n          key={mark.slug}\r\n          mediaId={index}\r\n          slug={mark.slug}\r\n          mediaType={mark.mediaType}\r\n          history={history}\r\n        />\r\n      ))}\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-white m-4\">NOT FOUND</div>\r\n  );\r\n}\r\n","export default function Background() {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`\r\n        top-0 \r\n        back \r\n        fixed\r\n        h-screen \r\n        w-screen\r\n        bg-indigo-900\r\n        \r\n        `}\r\n      ></div>\r\n      <div\r\n        className={`\r\n      top-0 \r\n      back \r\n      fixed\r\n      h-screen \r\n      w-screen\r\n      bg-gradient-to-b from-black via-indigo-900 to-black\r\n      opacity-50\r\n      `}\r\n      ></div>\r\n      <div\r\n        className={`\r\n      top-0 \r\n      back \r\n      fixed\r\n      h-screen \r\n      w-screen\r\n      bg-gradient-to-r from-black via-gray-900 to-black\r\n      opacity-30\r\n      `}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n","import queryString from \"query-string\";\r\ninterface ITag {\r\n  tag: string;\r\n  value: string | number;\r\n  history: any;\r\n}\r\nconst style = `\r\n    select-none\r\n    cursor-pointer\r\n    bg-indigo-900\r\n    max-w-max\r\n    text-white\r\n    px-1\r\n    mb-1\r\n    ml-1\r\n    hover:bg-indigo-400\r\n    `;\r\n\r\nexport default function FilterTag({ tag, value, history }: ITag) {\r\n  const handleDeleteSearchTag = () => {\r\n    if (history.location.search.slice(1).split(\"&\").length > 1) {\r\n      history.push({\r\n        search: `?${queryString.stringify({\r\n          ...queryString.parse(history.location.search),\r\n          [`${tag}`]: undefined,\r\n        })}`,\r\n      });\r\n    } else {\r\n      history.push({\r\n        search: ``,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={Math.random().toString()}\r\n      className={style}\r\n      title={`delete ${value} from search`}\r\n      onClick={() => handleDeleteSearchTag()}\r\n    >\r\n      {decodeURI(value.toString())}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\nimport \"./App.css\";\nimport ShowCase from \"./ShowCase2\";\nimport LastUpdate from \"./LastUpdate2\";\nimport Marks from \"./Marks\";\nimport Background from \"./common/Background\";\nimport history from \"history/browser\";\nimport queryString from \"query-string\";\nimport FilterTag from \"./tags/FilterTag\";\n\nconst hoverStyle = `${\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n    navigator.userAgent\n  )\n    ? \"\"\n    : \"hover:bg-indigo-400\"\n}`;\n\nexport default function App() {\n  const [mediaType, setMediaType] = React.useState<string>(() => {\n    if (history.location.pathname === \"/avomova/\") {\n      return \"ALL\";\n    } else if (history.location.pathname === \"/avomova/marks\") {\n      return \"marks\";\n    } else {\n      return history.location.pathname.split(\"/\")[2];\n    }\n  });\n  const [type, setType] = React.useState(() => {\n    if (queryString.parse(history.location.search).type === \"manga\") {\n      return \"MANGA\";\n    } else if (queryString.parse(history.location.search).type === \"dub\") {\n      return \"DUB\";\n    } else if (queryString.parse(history.location.search).type === \"sub\") {\n      return \"SUB\";\n    } else {\n      return \"ALL\";\n    }\n  });\n  const [filters, setFilters] = React.useState(\n    history.location.search === \"\"\n      ? {}\n      : queryString.parse(history.location.search)\n  );\n\n  React.useEffect(() => {\n    const unlisten = history.listen(({ location, action }) => {\n\n      if (action === \"REPLACE\" && location.pathname === \"/avomova/\") {\n        \n      }\n\n      if (location.pathname === \"/avomova/\") {\n        setMediaType(\"ALL\");\n      } else if (location.pathname === \"/avomova/marks\") {\n        setMediaType(\"marks\");\n      } else {\n        setMediaType(location.pathname.split(\"/\")[2]);\n      }\n\n      if (queryString.parse(location.search).type === \"manga\") {\n        setType(\"MANGA\");\n      } else if (queryString.parse(location.search).type === \"dub\") {\n        setType(\"DUB\");\n      } else if (queryString.parse(location.search).type === \"sub\") {\n        setType(\"SUB\");\n      } else {\n        setType(\"ALL\");\n      }\n\n      setFilters(\n        location.search === \"\" ? {} : queryString.parse(location.search)\n      );\n\n    });\n    return () => unlisten();\n  });\n\n  const handleShowCaseSettings = (type: string) => {\n    if (type === \"\") {\n      history.push({ pathname: `/avomova/`, search: \"\" });\n    } else {\n      history.push({ pathname: `/avomova/${type}`, search: \"\" });\n    }\n  };\n\n  return (\n    <div className=\"App flex flex-col\">\n      <div className=\"text-white mb-2\">\n        based on{\" \"}\n        <a className=\"hover:underline\" href=\"https://anibel.net/\">\n          ANIBEL.NET\n        </a>\n      </div>\n      <div className=\"text-white text-4xl font-bold p-2\">&#9983; AVOMOVA</div>\n      <div className=\"flex flex-wrap justify-end select-none \">\n        <div\n          onClick={() => handleShowCaseSettings(\"\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"ALL\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          last update\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"anime\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"anime\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          anime\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"manga\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"manga\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          manga\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"cinema\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"cinema\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          cinema\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"marks\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"marks\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          marks\n        </div>\n      </div>\n      {history.location.search && (\n        <div className=\"fixed right-1 top-1/4 flex-col text-indigo-900 z-10 bg-white bg-opacity-90 p-1\">\n          <div>Filters:</div>\n          {history.location.search\n            .slice(1)\n            .split(\"&\")\n            .map((item: string) => {\n              return (\n                item && (\n                  <FilterTag\n                    key={item}\n                    tag={item.split(\"=\")[0]}\n                    value={item.split(\"=\")[1]}\n                    history={history}\n                  />\n                )\n              );\n            })}\n        </div>\n      )}\n      <div>\n        {mediaType === \"ALL\" ? (\n          <LastUpdate type={type} history={history} />\n        ) : mediaType === \"marks\" ? (\n          <Marks history={history} />\n        ) : (\n          <ShowCase mediaType={mediaType} filters={filters} history={history} />\n        )}\n      </div>\n      <Background />\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { ApolloProvider } from \"@apollo/client/react\";\nimport { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nwindow.addEventListener('beforeunload', (event) => {\n  event.preventDefault();\n  var dialogText = \"Go out from AVOMOVA?\";\n  event.returnValue = dialogText;\n  return dialogText;\n});\n\nconst client = new ApolloClient({\n  uri: \"https://api-beta.anibel.net/graphql\",\n  cache: new InMemoryCache({\n    typePolicies: {\n      Media: {\n        merge(existing = {}, incoming: {}) {\n          return { existing, ...incoming };\n        },\n      },\n    },\n  }),\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n    ,\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}