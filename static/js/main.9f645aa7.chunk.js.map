{"version":3,"sources":["graphql/query.ts","tags/Language.tsx","tags/MangaTag.tsx","tags/Status.tsx","common/LoadingCard.tsx","card/Poster.tsx","card/Title.tsx","card/TitleEn.tsx","tags/Tag.tsx","card/Tags.tsx","card/Description.tsx","common/LoadingDots.tsx","useLocalStorage.tsx","card/Player.tsx","card/Reader.tsx","card/Watch.tsx","card/Card.tsx","common/ToTop.tsx","showCases/ShowCase.tsx","card/CardLastUpdate.tsx","showCases/LastUpdate.tsx","showCases/Marks.tsx","common/Background.tsx","tags/FilterTag.tsx","common/Filters.tsx","common/Search.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["GET_MEDIA_LIST","gql","GET_MEDIA","GET_UPDATES_LIST","GET_MEDIA_EPISODES","GET_MEDIA_CHAPTERS","hoverStyle","test","navigator","userAgent","styleDub","styleSub","Language","value","mediaType","history","className","map","item","onClick","search","push","pathname","queryString","stringify","parse","location","language","style","MangaTag","Status","duraction","date","start","end","Date","updated","toLocaleDateString","EmptyCard","Poster","poster","title","slug","src","alt","en","be","Title","replaceAll","toUpperCase","slice","split","index","TitleEn","Tag","tag","notSearch","handleSearchTag","Array","isArray","Math","random","toString","Tags","country","year","studio","genres","translators","dubbers","editors","length","Description","description","LoadingDots","React","dots","setDots","timerId","setTimeout","clearTimeout","useLocalStorage","key","initialValue","window","localStorage","getItem","JSON","error","console","log","storedValue","setStoredValue","valueToStore","Function","setItem","Player","closePlayer","playerStore","setPlayerStore","marksStore","setMarksStore","topPosition","setTopPosition","width","height","ifarmeSize","setIfarmeSize","currentEpisod","setCurrentEpisod","loadingImage","setLoadingImage","useQuery","variables","fetchPolicy","loading","data","screenX","media","episodes","url","handleSetImageWidth","find","filter","allowFullScreen","onLoad","episod","type","episode","chapter","page","image","readerStore","setReaderStore","currentImage","setCurrentImage","pageNumber","setPageNumber","chapterNumber","setChapterNumber","imageWidth","setImageWidth","ReaderRef","screenTop","chapters","images","large","ref","prevPage","current","scrollIntoView","undefined","thumbnail","Watch","showPlayer","setShowPlayer","handleClosePlayer","Card","mediaId","status","ru","cardData","setCardData","cleanupFunction","backgroundImage","ToTop","pagination","divRef","toTop","setToTop","ShowCase","filters","DivRef","docs","setDocs","setPagination","limit","setLimit","offset","hidden","getMediaList","totalDocs","Object","keys","includes","every","doc","CardLastUpdate","currentType","setCurrentType","LastUpdate","getUpdatesList","handleType","Marks","markDocs","setMarkDocs","mark","Background","FilterTag","decodeURI","Filters","Search","handleSearch","searchOpen","setSearchOpen","onChange","event","currentTarget","trim","placeholder","App","setMediaType","setType","setFilters","setSearch","unlisten","listen","action","handleShowCaseSettings","href","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","client","ApolloClient","uri","cache","InMemoryCache","typePolicies","Media","merge","existing","incoming","ReactDOM","render","StrictMode","ApolloProvider","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.9f645aa7.chunk.js","sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_MEDIA_LIST = gql`\r\n  query getMediaList(\r\n    $offset: Int!\r\n    $limit: Int!\r\n    $mediaType: MediaTypes!\r\n    $filters: MediaFilters\r\n  ) {\r\n    getMediaList(\r\n      offset: $offset\r\n      limit: $limit\r\n      mediaType: $mediaType\r\n      filters: $filters\r\n    ) {\r\n      docs {\r\n        mediaId\r\n        mediaType\r\n        title {\r\n          be\r\n          en\r\n        }\r\n        description {\r\n          be\r\n        }\r\n        slug\r\n        language\r\n        genres\r\n        studio\r\n        year\r\n        translators\r\n        dubbers\r\n        editors\r\n      }\r\n      totalDocs\r\n      limit\r\n      offset\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MEDIA = gql`\r\n  query media($slug: String!, $mediaType: MediaTypes!) {\r\n    media(slug: $slug, mediaType: $mediaType) {\r\n      mediaId\r\n      title {\r\n        be\r\n        ru\r\n        en\r\n        alt\r\n      }\r\n      description {\r\n        be\r\n        ru\r\n        en\r\n      }\r\n      studio\r\n      status\r\n      poster\r\n      country\r\n      year\r\n      duraction {\r\n        start\r\n        end\r\n      }\r\n      date {\r\n        created\r\n        updated\r\n      }\r\n      language\r\n      translators\r\n      dubbers\r\n      editors\r\n      genres\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_UPDATES_LIST = gql`\r\n  query getUpdatesList($offset: Int!, $limit: Int!, $type: UpdateType) {\r\n    getUpdatesList(offset: $offset, limit: $limit, type: $type) {\r\n      docs {\r\n        title {\r\n          ru\r\n          be\r\n          en\r\n          alt\r\n        }\r\n        url\r\n        poster\r\n        type\r\n        description {\r\n          ru\r\n          be\r\n          en\r\n        }\r\n        duraction {\r\n          start\r\n          end\r\n        }\r\n        date {\r\n          created\r\n          updated\r\n        }\r\n      }\r\n      totalDocs\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MEDIA_EPISODES = gql`\r\n  query media($slug: String!, $mediaType: MediaTypes!) {\r\n    media(slug: $slug, mediaType: $mediaType) {\r\n      mediaId\r\n      episodes {\r\n        id\r\n        mediaId\r\n        mediaType\r\n        contentType\r\n        type\r\n        episode\r\n        url\r\n        resource\r\n        thumbnail\r\n        view\r\n        date {\r\n          created\r\n          updated\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_MEDIA_CHAPTERS = gql`\r\n  query media($slug: String!, $mediaType: MediaTypes!) {\r\n    media(slug: $slug, mediaType: $mediaType) {\r\n      mediaId\r\n      chapters {\r\n        chapter\r\n        images {\r\n          large\r\n          thumbnail\r\n        }\r\n        view\r\n        date {\r\n          created\r\n          updated\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import queryString from \"query-string\";\r\ninterface ILanguage {\r\n  value: string[];\r\n  mediaType: string;\r\n  history: any;\r\n}\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:text-indigo-900\"\r\n}`;\r\n\r\nconst style = `\r\n  select-none\r\n  filter \r\n  drop-shadow-lg\r\n  absolute \r\n  top-1 \r\n  -left-1 \r\n  flex\r\n  flex-col\r\n  max-w-max\r\n  text-white\r\n  `;\r\nconst styleDub = `\r\n  transition \r\n  ease-linear \r\n  bg-red-500 \r\n  cursor-pointer \r\n  ${hoverStyle}\r\n  `;\r\nconst styleSub = `\r\n  transition \r\n  ease-linear \r\n  bg-blue-500 \r\n  cursor-pointer \r\n  ${hoverStyle}\r\n  `;\r\nexport default function Language({ value, mediaType, history }: ILanguage) {\r\n  const handleSearchTag = (search: string | number) => {\r\n    history.push({\r\n      pathname: `/avomova/${mediaType}`,\r\n      search: `?${queryString.stringify({\r\n        ...queryString.parse(history.location.search),\r\n        language: search,\r\n      })}`,\r\n    });\r\n  };\r\n  return (\r\n    <div className={style}>\r\n      {value.map((item) => {\r\n        return (\r\n          <div\r\n            key={item}\r\n            className={`px-1 ${item === \"dub\" ? styleDub : styleSub}`}\r\n            onClick={() => handleSearchTag(item)}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","const hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:text-indigo-900\"\r\n}`;\r\n\r\nconst style = `\r\n  select-none\r\n  transition \r\n  ease-linear \r\n  filter \r\n  drop-shadow-lg\r\n  absolute \r\n  top-1 \r\n  -left-1 \r\n  flex\r\n  flex-col\r\n  max-w-max\r\n  text-white\r\n  cursor-pointer\r\n  ${hoverStyle}\r\n  `;\r\ninterface IMangaTag {\r\n  history: any;\r\n}\r\nexport default function MangaTag({ history }: IMangaTag) {\r\n  const handleSearchTag = (search: string | number) => {\r\n    history.push({\r\n      pathname: `/avomova/${search}`,\r\n      search: ``,\r\n    });\r\n  };\r\n  return (\r\n    <div className={style} onClick={() => handleSearchTag(\"manga\")}>\r\n      <div className={`px-1 bg-purple-500`}>manga</div>\r\n    </div>\r\n  );\r\n}\r\n","interface IStatus {\r\n  value: string;\r\n  duraction: {\r\n    start: number;\r\n    end: number;\r\n  };\r\n  date?: {\r\n    created: Date;\r\n    updated: Date;\r\n  };\r\n}\r\nconst style = `\r\n  filter\r\n  drop-shadow-lg\r\n  absolute \r\n  bottom-1 \r\n  -left-1 \r\n  flex\r\n  flex-col\r\n  max-w-max\r\n  text-white\r\n  `;\r\nexport default function Status({ value, duraction, date }: IStatus) {\r\n  return (\r\n    <div className={style}>\r\n      <div\r\n        className={`px-1 ${\r\n          value === \"finished\" ? \"bg-green-500\" : \"bg-yellow-500\"\r\n        }`}\r\n      >\r\n        <div>\r\n          {value} ({duraction.start} / {duraction.end})\r\n        </div>\r\n        {date ? (\r\n          <div className=\"text-sm text-black\">\r\n            {new Date(date.updated).toLocaleDateString()}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function EmptyCard() {\r\n  return (\r\n    <div className=\"animate-pulse flex w-full max-w-xs pl-2 py-1 m-4 bg-purple-400\">\r\n      <div className=\"w-1/3 bg-gray-500\"></div>\r\n      <div className=\"flex flex-col p-1 w-2/3\">\r\n        <div className=\"text-xl text-white text-left bg-gray-500 h-24 rounded mb-1\"></div>\r\n        <div className=\"text-sm text-gray-500 text-left bg-gray-500 h-12 rounded mb-1\"></div>\r\n        <div className=\"text-base text-black text-left overflow-hidden h-36 bg-gray-500 rounded mb-1\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","interface ITitle {\r\n  be: string;\r\n  ru: string;\r\n  en: string;\r\n  alt: string;\r\n}\r\n\r\ninterface IPoster {\r\n  poster: string;\r\n  title: ITitle;\r\n  slug: string;\r\n}\r\n\r\nexport default function Poster({ poster, title, slug }: IPoster) {\r\n  return (\r\n    <img\r\n      className=\"\"\r\n      src={`https://anibel.net/${poster}`}\r\n      alt={`${title.en}, ${title.be}, ${slug}`}\r\n    />\r\n  );\r\n}\r\n","interface ITitle {\r\n  be: string;\r\n  ru: string;\r\n  en: string;\r\n  alt: string;\r\n}\r\n\r\ninterface ITitleCard {\r\n  title: ITitle;\r\n  search: string;\r\n}\r\n\r\nconst style = `\r\n  px-1\r\n  text-xl\r\n  text-indigo-900\r\n  text-left\r\n  leading-5\r\n  `;\r\n\r\nexport default function Title({ title, search }: ITitleCard) {\r\n  return (\r\n    <div className={style}>\r\n      {search !== \"\"\r\n        ? title.be\r\n            .replaceAll(search, `||${search}||`)\r\n            .replaceAll(\r\n              search[0].toUpperCase() + search.slice(1),\r\n              `||${search[0].toUpperCase() + search.slice(1)}||`\r\n            )\r\n            .split(\"||\")\r\n            .map((item: string, index: number) =>\r\n              item === search ||\r\n              item === search[0].toUpperCase() + search.slice(1) ? (\r\n                <span key={index} className=\"bg-indigo-400\">\r\n                  {item}\r\n                </span>\r\n              ) : (\r\n                item\r\n              )\r\n            )\r\n        : title.be}\r\n    </div>\r\n  );\r\n}\r\n","interface ITitle {\r\n  be: string;\r\n  ru: string;\r\n  en: string;\r\n  alt: string;\r\n}\r\n\r\ninterface ITitleCard {\r\n  title: ITitle;\r\n  search: string;\r\n}\r\n\r\nconst style = `\r\npx-1\r\ntext-sm \r\ntext-gray-800 \r\ntext-left\r\nitalic\r\nleading-5\r\n`;\r\n\r\nexport default function TitleEn({ title, search }: ITitleCard) {\r\n  return (\r\n    <div className={style}>\r\n      {search !== \"\"\r\n        ? title.en\r\n            .replaceAll(search, `||${search}||`)\r\n            .replaceAll(\r\n              search[0].toUpperCase() + search.slice(1),\r\n              `||${search[0].toUpperCase() + search.slice(1)}||`\r\n            )\r\n            .split(\"||\")\r\n            .map((item: string, index: number) =>\r\n              item === search ||\r\n              item === search[0].toUpperCase() + search.slice(1) ? (\r\n                <span key={index} className=\"bg-indigo-400\">\r\n                  {item}\r\n                </span>\r\n              ) : (\r\n                item\r\n              )\r\n            )\r\n        : title.en}\r\n    </div>\r\n  );\r\n}\r\n","import queryString from \"query-string\";\r\ninterface ITag {\r\n  tag: string;\r\n  value: string | string[] | number;\r\n  mediaType: string;\r\n  notSearch?: boolean;\r\n  history: any;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nconst style = `\r\n  select-none\r\n  transition \r\n  ease-linear\r\n  cursor-pointer\r\n  bg-indigo-900\r\n  max-w-max\r\n  text-white\r\n  px-1\r\n  mb-1\r\n  ml-1\r\n  ${hoverStyle}\r\n  `;\r\nconst styleNot = `\r\n  max-w-max\r\n  text-indigo-900\r\n  px-1\r\n  mb-1\r\n  ml-1\r\n  `;\r\nexport default function Tag({\r\n  tag,\r\n  value,\r\n  mediaType,\r\n  notSearch,\r\n  history,\r\n}: ITag) {\r\n  const handleSearchTag = (search: string | number) => {\r\n    history.push({\r\n      pathname: `/avomova/${mediaType}`,\r\n      search: `?${queryString.stringify({\r\n        ...queryString.parse(history.location.search),\r\n        [`${tag}`]: search,\r\n      })}`,\r\n    });\r\n  };\r\n  if (Array.isArray(value)) {\r\n    return (\r\n      <div className=\"flex flex-wrap\">\r\n        {value.map((item) => {\r\n          return (\r\n            <div\r\n              key={Math.random().toString()}\r\n              className={style}\r\n              title={`search for ${item}`}\r\n              onClick={() => handleSearchTag(item)}\r\n            >\r\n              {item}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div\r\n        className={notSearch ? styleNot : style}\r\n        title={notSearch ? \"\" : `search for ${value}`}\r\n        onClick={() => {\r\n          if (!notSearch) handleSearchTag(value);\r\n        }}\r\n      >\r\n        {value}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Tag from \"../tags/Tag\";\r\n\r\ninterface ITags {\r\n  mediaType: string;\r\n  country: string | string[];\r\n  year: string | string[];\r\n  studio: string | string[];\r\n  genres: string | string[];\r\n  translators: string | string[];\r\n  dubbers: string | string[];\r\n  editors: string | string[];\r\n  history: any;\r\n}\r\n\r\nconst style = `\r\nflex \r\nflex-wrap \r\nleading-5 \r\nmb-2\r\nmt-2\r\n`;\r\n\r\nexport default function Tags({\r\n  mediaType,\r\n  country,\r\n  year,\r\n  studio,\r\n  genres,\r\n  translators,\r\n  dubbers,\r\n  editors,\r\n  history\r\n}: ITags) {\r\n  return (\r\n    <div className={style}>\r\n      {country ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Country:</div>\r\n          <Tag notSearch tag=\"country\" value={country} mediaType={mediaType} history={history}/>\r\n        </div>\r\n      ) : null}\r\n      {year ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Year:</div>\r\n          <Tag tag=\"year\" value={year} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {studio ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Studio:</div>\r\n          <Tag tag=\"studio\" value={studio} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {genres.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Genres:</div>\r\n          <Tag tag=\"genres\" value={genres} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {translators.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Translators:</div>\r\n          <Tag tag=\"translators\" value={translators} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n\r\n      {dubbers.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Dubbers:</div>\r\n          <Tag tag=\"dubbers\" value={dubbers} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n      {editors.length !== 0 ? (\r\n        <div className=\"flex flex-col mx-1\">\r\n          <div className=\"text-sm text-gray-700 text-left\">Editors:</div>\r\n          <Tag tag=\"editors\" value={editors} mediaType={mediaType} history={history} />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","interface IDescription {\r\n  description: {\r\n    be: string;\r\n  };\r\n  search: string;\r\n}\r\n\r\nconst style = `\r\nflex\r\nflex-col\r\npy-1\r\npx-2 \r\ntext-base \r\ntext-black\r\ntext-left \r\nleading-5\r\n`;\r\n\r\nexport default function Description({ description, search }: IDescription) {\r\n  return (\r\n    <div className={style}>\r\n      <div className=\"text-sm text-gray-700 text-left\">Description:</div>\r\n      <div>\r\n        {search !== \"\"\r\n          ? description.be\r\n              .replaceAll(search, `||${search}||`)\r\n              .replaceAll(\r\n                search[0].toUpperCase() + search.slice(1),\r\n                `||${search[0].toUpperCase() + search.slice(1)}||`\r\n              )\r\n              .split(\"||\")\r\n              .map((item: string, index: number) =>\r\n                item === search ||\r\n                item === search[0].toUpperCase() + search.slice(1) ? (\r\n                  <span key={index} className=\"bg-indigo-400\">\r\n                    {item}\r\n                  </span>\r\n                ) : (\r\n                  item\r\n                )\r\n              )\r\n          : description.be}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport default function LoadingDots() {\r\n  const [dots, setDots] = React.useState(\"\");\r\n  React.useEffect(() => {\r\n    const timerId = setTimeout(() => {\r\n      if (dots === \"...\") {\r\n        setDots(\"\");\r\n      } else {\r\n        setDots(`${dots}.`);\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timerId);\r\n  }, [dots]);\r\n  return (\r\n    <div className=\"flex flex-row justify-center w-full animate-pulse\">\r\n      <div className=\"w-1/2 text-right\">loading</div>\r\n      <div className=\"w-1/2 text-left\">{dots}</div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport function useLocalStorage(key: string, initialValue: any) {\r\n  const [storedValue, setStoredValue] = React.useState(() => {\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return initialValue;\r\n    }\r\n  });\r\n  const setValue = (value: any) => {\r\n    try {\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      setStoredValue(valueToStore);\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return [storedValue, setValue];\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA_EPISODES } from \"../graphql/query\";\r\nimport LoadingDots from \"../common/LoadingDots\";\r\nimport { useLocalStorage } from \"../useLocalStorage\";\r\n\r\ninterface IPlayer {\r\n  slug: string;\r\n  mediaType: string;\r\n  closePlayer: () => void;\r\n  title: {\r\n    be: string;\r\n    en: string;\r\n  };\r\n  description: {\r\n    be: string;\r\n  };\r\n}\r\n\r\nconst style = `\r\n  w-full \r\n  text-center\r\n  px-1\r\n  text-white \r\n  text-2xl \r\n  bg-indigo-900 \r\n`;\r\n\r\nexport default function Player({\r\n  slug,\r\n  mediaType,\r\n  closePlayer,\r\n  title,\r\n  description,\r\n}: IPlayer) {\r\n  const [playerStore, setPlayerStore] = useLocalStorage(slug, \"\");\r\n  const [marksStore, setMarksStore] = useLocalStorage(\"marks\", []);\r\n\r\n  const [topPosition, setTopPosition] = React.useState(\"top-0px\");\r\n  const [ifarmeSize, setIfarmeSize] = React.useState({\r\n    width: \"360px\",\r\n    height: \"240px\",\r\n  });\r\n\r\n  const [currentEpisod, setCurrentEpisod] = React.useState(\"\");\r\n  console.log(slug, mediaType);\r\n\r\n  const [loadingImage, setLoadingImage] = React.useState(true);\r\n\r\n  const { loading, error, data } = useQuery(GET_MEDIA_EPISODES, {\r\n    variables: {\r\n      slug,\r\n      mediaType,\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  React.useEffect(() => {\r\n    setTopPosition(`top-${window.screenX}px`);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (!loading && data)\r\n      setCurrentEpisod(\r\n        playerStore !== \"\" ? playerStore : data.media.episodes[0].url\r\n      );\r\n  }, [loading, data, playerStore]);\r\n\r\n  if (loading)\r\n    return (\r\n      <button className={style}>\r\n        <LoadingDots />\r\n      </button>\r\n    );\r\n  if (error) return <button className={style}>error :(</button>;\r\n\r\n  const handleSetImageWidth = (value: string) => {\r\n    if (value === \"+\") {\r\n      switch (ifarmeSize.width) {\r\n        case \"1215px\": {\r\n          break;\r\n        }\r\n        case \"810px\": {\r\n          setIfarmeSize({ width: \"1215px\", height: \"810px\" });\r\n          break;\r\n        }\r\n        case \"540px\": {\r\n          setIfarmeSize({ width: \"810px\", height: \"540px\" });\r\n          break;\r\n        }\r\n        case \"360px\": {\r\n          setIfarmeSize({ width: \"540px\", height: \"360px\" });\r\n          break;\r\n        }\r\n        case \"240px\": {\r\n          setIfarmeSize({ width: \"360px\", height: \"240px\" });\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      switch (ifarmeSize.width) {\r\n        case \"1215px\": {\r\n          setIfarmeSize({ width: \"810px\", height: \"540px\" });\r\n          break;\r\n        }\r\n        case \"810px\": {\r\n          setIfarmeSize({ width: \"540px\", height: \"360px\" });\r\n          break;\r\n        }\r\n        case \"540px\": {\r\n          setIfarmeSize({ width: \"360px\", height: \"240px\" });\r\n          break;\r\n        }\r\n        case \"360px\": {\r\n          setIfarmeSize({ width: \"240px\", height: \"160px\" });\r\n          break;\r\n        }\r\n        case \"240px\": {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMarks = (value: {\r\n    slug: string;\r\n    mediaType: string;\r\n    title: {\r\n      be: string;\r\n      en: string;\r\n    };\r\n    description: {\r\n      be: string;\r\n    };\r\n  }) => {\r\n    if (marksStore.find((item: { slug: string }) => item.slug === value.slug)) {\r\n      setMarksStore(\r\n        marksStore.filter((item: { slug: string }) => item.slug !== value.slug)\r\n      );\r\n    } else {\r\n      setMarksStore([...marksStore, value]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${topPosition} absolute left-0 z-10 bg-black bg-opacity-90 w-full flex flex-col`}\r\n    >\r\n      <div className=\"flex justify-between\">\r\n        <div className=\"flex self-center text-white\">\r\n          <div\r\n            className={`${\r\n              ifarmeSize.width === \"240px\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"-\");\r\n            }}\r\n          >\r\n            -\r\n          </div>\r\n          <div\r\n            className={`${\r\n              ifarmeSize.width === \"1215px\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"+\");\r\n            }}\r\n          >\r\n            +\r\n          </div>\r\n        </div>\r\n        <div\r\n          onClick={() => {\r\n            handleMarks({ slug, mediaType, title, description });\r\n          }}\r\n          className=\"text-indigo-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-indigo-900 hover:bg-indigo-900 hover:text-black\"\r\n        >\r\n          {marksStore.find((item: { slug: string }) => item.slug === slug)\r\n            ? \"delete from marks\"\r\n            : \"add to marks\"}\r\n        </div>\r\n        <div\r\n          title=\"close reader\"\r\n          className=\"text-red-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-red-900 hover:bg-red-900 hover:text-black\"\r\n          onClick={closePlayer}\r\n        >\r\n          close\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col self-center\">\r\n        <iframe\r\n          className={`${loadingImage ? \"animate-pulse\" : \"\"}`}\r\n          title=\"player\"\r\n          width={ifarmeSize.width}\r\n          height={ifarmeSize.height}\r\n          allowFullScreen={true}\r\n          src={currentEpisod}\r\n          onLoad={() => setLoadingImage(false)}\r\n        >\r\n          Sorry!\r\n        </iframe>\r\n        <div\r\n          className={`${\r\n            loadingImage ? \"text-white animate-pulse\" : \"text-opacity-0\"\r\n          }`}\r\n        >\r\n          <LoadingDots />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col\">\r\n        <div className=\"flex mb-4 flex-wrap p-2\">\r\n          {data.media.episodes.map((episod: any) => {\r\n            return (\r\n              episod.type === \"dub\" && (\r\n                <div\r\n                  key={Math.random().toString()}\r\n                  className={`${\r\n                    currentEpisod === episod.url ? \"bg-gray-300\" : \"bg-gray-700\"\r\n                  } w-12 h-12 border border-black text-sm cursor-pointer transition ease-linear hover:bg-gray-300`}\r\n                  onClick={() => {\r\n                    setLoadingImage(true);\r\n                    setCurrentEpisod(episod.url);\r\n                    setPlayerStore(episod.url);\r\n                  }}\r\n                >\r\n                  <p>{episod.episode}</p>\r\n                  <p>{episod.type}</p>\r\n                </div>\r\n              )\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"flex mb-4 flex-wrap p-2\">\r\n          {data.media.episodes.map((episod: any) => {\r\n            return (\r\n              episod.type === \"sub\" && (\r\n                <div\r\n                  key={Math.random().toString()}\r\n                  className={`${\r\n                    currentEpisod === episod.url ? \"bg-gray-300\" : \"bg-gray-700\"\r\n                  } w-12 h-12 border border-black text-sm cursor-pointer transition ease-linear hover:bg-gray-300`}\r\n                  onClick={() => {\r\n                    setLoadingImage(true);\r\n                    setCurrentEpisod(episod.url);\r\n                    setPlayerStore(episod.url);\r\n                  }}\r\n                >\r\n                  <p>{episod.episode}</p>\r\n                  <p>{episod.type}</p>\r\n                </div>\r\n              )\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA_CHAPTERS } from \"../graphql/query\";\r\nimport LoadingDots from \"../common/LoadingDots\";\r\nimport { useLocalStorage } from \"../useLocalStorage\";\r\n\r\ninterface IPlayer {\r\n  slug: string;\r\n  mediaType: string;\r\n  closePlayer: () => void;\r\n  title: {\r\n    be: string;\r\n    en: string;\r\n  };\r\n  description: {\r\n    be: string;\r\n  };\r\n}\r\n\r\nconst style = `\r\n  w-full \r\n  text-center\r\n  px-1\r\n  text-white \r\n  text-2xl \r\n  bg-indigo-900 \r\n`;\r\n\r\nexport default function Player({\r\n  slug,\r\n  mediaType,\r\n  closePlayer,\r\n  title,\r\n  description,\r\n}: IPlayer) {\r\n  const [readerStore, setReaderStore] = useLocalStorage(slug, {\r\n    chapter: 0,\r\n    page: 0,\r\n    image: \"\",\r\n  });\r\n  const [marksStore, setMarksStore] = useLocalStorage(\"marks\", []);\r\n\r\n  const [topPosition, setTopPosition] = React.useState(\"top-0px\");\r\n\r\n  const [currentImage, setCurrentImage] = React.useState(\"\");\r\n\r\n  const [loadingImage, setLoadingImage] = React.useState(true);\r\n\r\n  const [pageNumber, setPageNumber] = React.useState(0);\r\n  const [chapterNumber, setChapterNumber] = React.useState(1);\r\n\r\n  const [imageWidth, setImageWidth] = React.useState(\"w-3/4\");\r\n\r\n  const ReaderRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const { loading, error, data } = useQuery(GET_MEDIA_CHAPTERS, {\r\n    variables: {\r\n      slug,\r\n      mediaType,\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  React.useEffect(() => {\r\n    setTopPosition(`top-${window.screenTop}px`);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (!loading && data) {\r\n      if (readerStore && readerStore.image !== \"\") {\r\n        setCurrentImage(readerStore.image);\r\n        setChapterNumber(readerStore.chapter);\r\n        setPageNumber(readerStore.page);\r\n      } else {\r\n        setCurrentImage(\r\n          data.media.chapters.find((chapter: any) => chapter.chapter === 1)\r\n            .images[0].large\r\n        );\r\n      }\r\n    }\r\n  }, [loading, data, readerStore]);\r\n\r\n  if (loading)\r\n    return (\r\n      <button className={style}>\r\n        <LoadingDots />\r\n      </button>\r\n    );\r\n  if (error) return <button className={style}>error :(</button>;\r\n\r\n  const nextPage = () => {\r\n    if (\r\n      data.media.chapters.find((chapter: any) => {\r\n        return chapter.chapter === chapterNumber;\r\n      }).images[pageNumber + 1] !== undefined\r\n    ) {\r\n      setLoadingImage(true);\r\n      setPageNumber(pageNumber + 1);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber + 1].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber,\r\n        page: pageNumber + 1,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber + 1].large,\r\n      });\r\n    } else if (\r\n      data.media.chapters.find((chapter: any) => {\r\n        return chapter.chapter === chapterNumber + 1;\r\n      }) !== undefined\r\n    ) {\r\n      setLoadingImage(true);\r\n      setChapterNumber(chapterNumber + 1);\r\n      setPageNumber(0);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber + 1;\r\n        }).images[0].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber + 1,\r\n        page: 0,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber + 1;\r\n        }).images[0].large,\r\n      });\r\n    } else {\r\n      setLoadingImage(true);\r\n      setChapterNumber(1);\r\n      setPageNumber(0);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === 1;\r\n        }).images[0].large\r\n      );\r\n      setReaderStore({\r\n        chapter: 1,\r\n        page: 0,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === 1;\r\n        }).images[0].large,\r\n      });\r\n    }\r\n  };\r\n\r\n  const prevPage = () => {\r\n    if (pageNumber !== 0) {\r\n      setLoadingImage(true);\r\n      setPageNumber(pageNumber - 1);\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber - 1].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber,\r\n        page: pageNumber - 1,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber;\r\n        }).images[pageNumber - 1].large,\r\n      });\r\n    } else if (pageNumber === 0 && chapterNumber !== 1) {\r\n      setLoadingImage(true);\r\n      setChapterNumber(chapterNumber - 1);\r\n      setPageNumber(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber - 1;\r\n        }).images.length - 1\r\n      );\r\n      setCurrentImage(\r\n        data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber - 1;\r\n        }).images[\r\n          data.media.chapters.find((chapter: any) => {\r\n            return chapter.chapter === chapterNumber - 1;\r\n          }).images.length - 1\r\n        ].large\r\n      );\r\n      setReaderStore({\r\n        chapter: chapterNumber - 1,\r\n        page:\r\n          data.media.chapters.find((chapter: any) => {\r\n            return chapter.chapter === chapterNumber - 1;\r\n          }).images.length - 1,\r\n        image: data.media.chapters.find((chapter: any) => {\r\n          return chapter.chapter === chapterNumber - 1;\r\n        }).images[\r\n          data.media.chapters.find((chapter: any) => {\r\n            return chapter.chapter === chapterNumber - 1;\r\n          }).images.length - 1\r\n        ].large,\r\n      });\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSetImageWidth = (value: string) => {\r\n    if (value === \"+\") {\r\n      switch (imageWidth) {\r\n        case \"w-3/4\": {\r\n          break;\r\n        }\r\n        case \"w-2/4\": {\r\n          setImageWidth(\"w-3/4\");\r\n          break;\r\n        }\r\n        case \"w-1/4\": {\r\n          setImageWidth(\"w-2/4\");\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      switch (imageWidth) {\r\n        case \"w-3/4\": {\r\n          setImageWidth(\"w-2/4\");\r\n          break;\r\n        }\r\n        case \"w-2/4\": {\r\n          setImageWidth(\"w-1/4\");\r\n          break;\r\n        }\r\n        case \"w-1/4\": {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMarks = (value: {\r\n    slug: string;\r\n    mediaType: string;\r\n    title: {\r\n      be: string;\r\n      en: string;\r\n    };\r\n    description: {\r\n      be: string;\r\n    };\r\n  }) => {\r\n    if (marksStore.find((item: { slug: string }) => item.slug === value.slug)) {\r\n      setMarksStore(\r\n        marksStore.filter((item: { slug: string }) => item.slug !== value.slug)\r\n      );\r\n    } else {\r\n      setMarksStore([...marksStore, value]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={ReaderRef}\r\n      className={`${topPosition} absolute left-0 z-10 bg-black bg-opacity-90 w-full flex flex-col`}\r\n    >\r\n      <div className=\"flex justify-between\">\r\n        <div className=\"flex self-center text-white\">\r\n          <div\r\n            className={`${\r\n              imageWidth === \"w-1/4\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"-\");\r\n            }}\r\n          >\r\n            -\r\n          </div>\r\n          <div\r\n            className={`${\r\n              imageWidth === \"w-3/4\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer hover:bg-gray-600 hover:text-black\"\r\n            } px-4 mx-2 text-2xl rounded text-gray-600 border border-gray-600`}\r\n            onClick={() => {\r\n              handleSetImageWidth(\"+\");\r\n            }}\r\n          >\r\n            +\r\n          </div>\r\n        </div>\r\n        <div\r\n          onClick={() => {\r\n            handleMarks({ slug, mediaType, title, description });\r\n          }}\r\n          className=\"text-indigo-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-indigo-900 hover:bg-indigo-900 hover:text-black\"\r\n        >\r\n          {marksStore.find((item: { slug: string }) => item.slug === slug)\r\n            ? \"delete from marks\"\r\n            : \"add to marks\"}\r\n        </div>\r\n        <div\r\n          title=\"close reader\"\r\n          className=\"text-red-900 font-bold p-2 m-2 self-end cursor-pointer rounded border border-red-900 hover:bg-red-900 hover:text-black\"\r\n          onClick={closePlayer}\r\n        >\r\n          close\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col self-center\">\r\n        <div className={`text-white ${loadingImage ? \"animate-pulse\" : \"\"}`}>\r\n          {loadingImage ? (\r\n            <LoadingDots />\r\n          ) : (\r\n            `chapter ${chapterNumber}: page ${pageNumber}`\r\n          )}\r\n        </div>\r\n        <div className=\"flex justify-center\">\r\n          <div\r\n            title=\"previous page\"\r\n            className=\"px-2 flex justify-center items-center cursor-pointer w-1/6 text-white bg-gray-800 hover:bg-gray-600\"\r\n            onClick={() => {\r\n              if (!loadingImage) {\r\n                prevPage();\r\n                ReaderRef.current?.scrollIntoView();\r\n              }\r\n            }}\r\n          >\r\n            <div>prev</div>\r\n          </div>\r\n          <img\r\n            className={`${imageWidth} ${loadingImage ? \"animate-pulse\" : \"\"}`}\r\n            alt={slug}\r\n            src={currentImage || \"logo512.png\"}\r\n            onLoad={() => setLoadingImage(false)}\r\n          />\r\n          <div\r\n            title=\"next page\"\r\n            className=\"px-2 flex justify-center items-center cursor-pointer w-1/6 text-white bg-gray-800 hover:bg-gray-600\"\r\n            onClick={() => {\r\n              if (!loadingImage) {\r\n                nextPage();\r\n                ReaderRef.current?.scrollIntoView();\r\n              }\r\n            }}\r\n          >\r\n            <div>next</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-wrap\">\r\n        {data.media.chapters.map((chapter: any) => {\r\n          return (\r\n            <div\r\n              key={Math.random().toString()}\r\n              className=\"flex mb-4 flex-wrap p-2\"\r\n            >\r\n              <div className=\"flex flex-col\">\r\n                <div className=\"text-white text-left\">\r\n                  chapter {chapter.chapter}\r\n                </div>\r\n                <div className=\"flex flex-wrap\">\r\n                  {chapter.images.map(\r\n                    (\r\n                      image: { large: string; thumbnail: string },\r\n                      index: number\r\n                    ) => {\r\n                      return (\r\n                        <div\r\n                          key={Math.random().toString()}\r\n                          className={`${\r\n                            currentImage === image.large\r\n                              ? \"bg-gray-300\"\r\n                              : \"bg-gray-900\"\r\n                          } w-24 h-40 overflow-y-scroll scroll-none p-2 border border-black text-sm cursor-pointer transition ease-linear hover:bg-gray-300`}\r\n                          onClick={() => {\r\n                            setLoadingImage(true);\r\n                            setChapterNumber(chapter.chapter);\r\n                            setPageNumber(index);\r\n                            setCurrentImage(image.large);\r\n                            setReaderStore({\r\n                              chapter: chapter.chapter,\r\n                              page: index,\r\n                              image: image.large,\r\n                            });\r\n                            ReaderRef.current?.scrollIntoView();\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"tittle\"\r\n                            src={image.thumbnail}\r\n                            loading=\"lazy\"\r\n                          />\r\n                        </div>\r\n                      );\r\n                    }\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport Player from \"./Player\";\r\nimport Reader from \"./Reader\";\r\n\r\ninterface IWatch {\r\n  type: string;\r\n  slug: string;\r\n  title: {\r\n    be: string;\r\n    en: string;\r\n  };\r\n  description: {\r\n    be: string;\r\n  };\r\n}\r\n\r\nconst style = `\r\n  transition \r\n  ease-linear \r\n  w-full \r\n  text-center\r\n  px-1\r\n  text-white \r\n  text-2xl \r\n  bg-indigo-900 \r\n  hover:bg-indigo-400 \r\n`;\r\n\r\nexport default function Watch({ type, slug, title, description }: IWatch) {\r\n  let mediaType = \"\";\r\n  switch (type) {\r\n    case \"anime\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"DUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"SUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"cinema\":\r\n      mediaType = \"cinema\";\r\n      break;\r\n    case \"CINEMA\":\r\n      mediaType = \"cinema\";\r\n      break;\r\n    case \"manga\":\r\n      mediaType = \"manga\";\r\n      break;\r\n    case \"MANGA\":\r\n      mediaType = \"manga\";\r\n      break;\r\n  }\r\n\r\n  const [showPlayer, setShowPlayer] = React.useState(false);\r\n  const handleClosePlayer = () => {\r\n    if (showPlayer) setShowPlayer(false);\r\n  };\r\n\r\n  const handleOpenPlayer = () => {\r\n    if (!showPlayer) setShowPlayer(true);\r\n  };\r\n  return (\r\n    <>\r\n      {!showPlayer ? (\r\n        <button className={style} onClick={handleOpenPlayer}>\r\n          watch\r\n        </button>\r\n      ) : mediaType === \"manga\" ? (\r\n        <Reader\r\n          slug={slug}\r\n          mediaType={mediaType}\r\n          closePlayer={handleClosePlayer}\r\n          title={title}\r\n          description={description}\r\n        />\r\n      ) : (\r\n        <Player\r\n          slug={slug}\r\n          mediaType={mediaType}\r\n          closePlayer={handleClosePlayer}\r\n          title={title}\r\n          description={description}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA } from \"../graphql/query\";\r\nimport Language from \"../tags/Language\";\r\nimport MangaTag from \"../tags/MangaTag\";\r\nimport Status from \"../tags/Status\";\r\nimport LoadingCard from \"../common/LoadingCard\";\r\nimport Poster from \"./Poster\";\r\nimport Title from \"./Title\";\r\nimport TitleEn from \"./TitleEn\";\r\nimport Tags from \"./Tags\";\r\nimport Description from \"./Description\";\r\nimport Watch from \"./Watch\";\r\n\r\ninterface ICard {\r\n  mediaId: string | number;\r\n  slug: string;\r\n  mediaType: string;\r\n  history: any;\r\n  search: string;\r\n}\r\n\r\nconst style = `\r\nrelative \r\nflex \r\nw-full \r\nmax-w-xs \r\npl-2 \r\npy-2\r\nbg-purple-400\r\nbg-opacity-20\r\nbg-cover\r\n`;\r\n\r\nexport default function Card({\r\n  mediaId,\r\n  slug,\r\n  mediaType,\r\n  history,\r\n  search,\r\n}: ICard) {\r\n  const [cardData, setCardData] = React.useState({\r\n    loading: true,\r\n    error: undefined,\r\n    data: {\r\n      media: {\r\n        language: [],\r\n        poster: \"\",\r\n        status: \"\",\r\n        duraction: {\r\n          start: 0,\r\n          end: 0,\r\n        },\r\n        title: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n          alt: \"\",\r\n        },\r\n        description: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n        },\r\n        country: \"\",\r\n        year: [],\r\n        studio: \"\",\r\n        genres: [],\r\n        translators: [],\r\n        dubbers: [],\r\n        editors: [],\r\n      },\r\n    },\r\n  });\r\n  const { loading, error, data } = useQuery(GET_MEDIA, {\r\n    variables: {\r\n      slug,\r\n      mediaType,\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && !loading && !error && data) {\r\n      if (cardData.data !== data) {\r\n        setCardData({ loading, error, data });\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [cardData.data, loading, error, data]);\r\n\r\n  if (cardData.loading) return <LoadingCard />;\r\n  if (cardData.error) return <p>Error :(</p>;\r\n\r\n  console.log(mediaType);\r\n\r\n  return (\r\n    <div className=\"flex flex-col m-4\">\r\n      <div\r\n        className={style}\r\n        style={{\r\n          backgroundImage: `url(${`https://anibel.net/${cardData.data.media.poster}`})`,\r\n        }}\r\n      >\r\n        {cardData.data.media.language.length ? (\r\n          <Language\r\n            value={cardData.data.media.language}\r\n            mediaType={mediaType}\r\n            history={history}\r\n          />\r\n        ) : null}\r\n        {mediaType === \"manga\" && <MangaTag history={history} />}\r\n        <Status\r\n          value={cardData.data.media.status}\r\n          duraction={cardData.data.media.duraction}\r\n        />\r\n        <div className=\"w-1/3 self-center\">\r\n          <Poster\r\n            poster={cardData.data.media.poster}\r\n            title={cardData.data.media.title}\r\n            slug={slug}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col w-2/3 h-72 overflow-y-auto scroll-none\">\r\n          <div className=\"bg-white bg-opacity-90 flex flex-col\">\r\n            <Title title={cardData.data.media.title} search={search} />\r\n            <TitleEn title={cardData.data.media.title} search={search} />\r\n            <Description\r\n              description={cardData.data.media.description}\r\n              search={search}\r\n            />\r\n            <Tags\r\n              mediaType={mediaType}\r\n              country={cardData.data.media.country}\r\n              year={cardData.data.media.year}\r\n              studio={cardData.data.media.studio}\r\n              genres={cardData.data.media.genres}\r\n              translators={cardData.data.media.translators}\r\n              dubbers={cardData.data.media.dubbers}\r\n              editors={cardData.data.media.editors}\r\n              history={history}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Watch\r\n        type={mediaType}\r\n        slug={slug}\r\n        title={cardData.data.media.title}\r\n        description={cardData.data.media.description}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\ninterface IToTop {\r\n  pagination: number;\r\n  divRef: React.RefObject<HTMLDivElement>;\r\n}\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nexport default function ToTop({ pagination, divRef }: IToTop) {\r\n  const [toTop, setToTop] = React.useState(true);\r\n  return pagination > 10 && toTop ? (\r\n    <div\r\n      className={`select-none filter drop-shadow-lg fixed px-2 py-4 cursor-pointer right-1 bottom-24 text-white rounded-full bg-indigo-900 ${hoverStyle}`}\r\n      onClick={() => {\r\n        divRef.current?.scrollIntoView();\r\n        setToTop(false);\r\n      }}\r\n    >\r\n      to UP\r\n    </div>\r\n  ) : null;\r\n}\r\n","import * as React from \"react\";\r\nimport { GET_MEDIA_LIST } from \"../graphql/query\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport Card from \"../card/Card\";\r\nimport LoadingDots from \"../common/LoadingDots\";\r\nimport ToTop from \"../common/ToTop\";\r\n\r\ninterface KeyString {\r\n  [key: string]: any;\r\n}\r\n\r\ninterface ICard extends KeyString {\r\n  mediaId: string;\r\n  slug: string;\r\n  title: {\r\n    be: string;\r\n    en: string;\r\n  };\r\n  description: { be: string };\r\n  mediaType: string;\r\n  language?: string[];\r\n  genres?: string[];\r\n  studio?: string;\r\n  year?: number;\r\n  translators?: string[];\r\n  dubbers?: string[];\r\n  editors?: string[];\r\n}\r\n\r\ninterface IFilters extends KeyString {\r\n  language?: string;\r\n  genres?: string;\r\n  studio?: string;\r\n  year?: number;\r\n  status?: string;\r\n  translators?: string;\r\n  dubbers?: string;\r\n  editors?: string;\r\n  hidden?: boolean;\r\n}\r\n\r\ninterface IShowCase {\r\n  mediaType: string;\r\n  filters?: IFilters;\r\n  history: any;\r\n  search: string;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nexport default function ShowCase({\r\n  mediaType,\r\n  filters = {},\r\n  history,\r\n  search,\r\n}: IShowCase) {\r\n  const DivRef = React.useRef<HTMLDivElement>(null);\r\n  const [docs, setDocs] = React.useState<ICard[]>([]);\r\n  const [pagination, setPagination] = React.useState(0);\r\n  const [limit, setLimit] = React.useState(0);\r\n  const { loading, error, data } = useQuery(GET_MEDIA_LIST, {\r\n    variables: {\r\n      offset: 0,\r\n      limit,\r\n      mediaType,\r\n      filters: { hidden: false },\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && data) {\r\n      if (data.getMediaList.totalDocs > data.getMediaList.docs.length) {\r\n        setLimit(data.getMediaList.totalDocs);\r\n      } else {\r\n        setDocs(\r\n          data.getMediaList.docs\r\n            .filter((item: ICard) => {\r\n              return Object.keys(filters).length === 0\r\n                ? true\r\n                : Object.keys(filters)\r\n                    .map((key: string) => {\r\n                      return key === \"year\"\r\n                        ? item[`${key}`] === +filters[`${key}`]\r\n                        : key === \"studio\"\r\n                        ? item[`${key}`] === filters[`${key}`]\r\n                        : item[`${key}`] &&\r\n                          Array.isArray(item[`${key}`]) &&\r\n                          item[`${key}`].includes(filters[`${key}`]);\r\n                    })\r\n                    .every((item: boolean) => item === true);\r\n            })\r\n            .filter((item: ICard) =>\r\n              search === \"\"\r\n                ? true\r\n                : item.title.be.includes(search) ||\r\n                  item.title.be.includes(\r\n                    search[0].toUpperCase() + search.slice(1)\r\n                  ) ||\r\n                  item.title.en.includes(search) ||\r\n                  item.title.en.includes(\r\n                    search[0].toUpperCase() + search.slice(1)\r\n                  ) ||\r\n                  item.description.be.includes(search) ||\r\n                  item.description.be.includes(\r\n                    search[0].toUpperCase() + search.slice(1)\r\n                  )\r\n            )\r\n        );\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [data, filters, search]);\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction) {\r\n      setPagination(docs.length < 10 ? docs.length : 10);\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [docs.length]);\r\n\r\n  console.log(docs);\r\n\r\n  if (error) return <p>Error :(</p>;\r\n\r\n  const showMore = () => {\r\n    if (data && pagination !== docs.length) {\r\n      if (pagination + 10 < docs.length) {\r\n        setPagination(pagination + 10);\r\n      } else {\r\n        setPagination(docs.length);\r\n      }\r\n    }\r\n  };\r\n\r\n  return data && docs.length ? (\r\n    <div className=\"flex flex-wrap\" ref={DivRef}>\r\n      {docs.map(\r\n        (doc: ICard, index) =>\r\n          index < pagination && (\r\n            <Card\r\n              key={doc.slug}\r\n              mediaId={doc.mediaId}\r\n              slug={doc.slug}\r\n              mediaType={doc.mediaType}\r\n              history={history}\r\n              search={search}\r\n            />\r\n          )\r\n      )}\r\n      {data && pagination !== docs.length ? (\r\n        <div\r\n          className={`select-none cursor-pointer flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900 ${hoverStyle}`}\r\n          onClick={showMore}\r\n        >\r\n          <div>show more</div>\r\n          <div>\r\n            {pagination} from {docs.length}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className={`select-none flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900`}\r\n        >\r\n          <div>no more</div>\r\n          <div>\r\n            {pagination} from {docs.length}\r\n          </div>\r\n        </div>\r\n      )}\r\n      <ToTop pagination={pagination} divRef={DivRef} />\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-white m-4\">\r\n      {loading ? <LoadingDots /> : !docs.length ? \"NOT FOUND\" : null}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_MEDIA } from \"../graphql/query\";\r\nimport Language from \"../tags/Language\";\r\nimport MangaTag from \"../tags/MangaTag\";\r\nimport Status from \"../tags/Status\";\r\nimport LoadingCard from \"../common/LoadingCard\";\r\nimport Poster from \"./Poster\";\r\nimport Title from \"./Title\";\r\nimport TitleEn from \"./TitleEn\";\r\nimport Tags from \"./Tags\";\r\nimport Description from \"./Description\";\r\nimport Watch from \"./Watch\";\r\n\r\ninterface ICardLastUpdate {\r\n  url: string;\r\n  type: string;\r\n  duraction: {\r\n    start: number;\r\n    end: number;\r\n  };\r\n  date: {\r\n    created: Date;\r\n    updated: Date;\r\n  };\r\n  history: any;\r\n  search: string;\r\n}\r\n\r\nconst style = `\r\nrelative \r\nflex \r\nw-full \r\nmax-w-xs \r\npl-2 \r\npy-2\r\nbg-purple-400\r\nbg-opacity-20\r\nbg-cover\r\n`;\r\n\r\nexport default function CardLastUpdate({\r\n  url,\r\n  type,\r\n  duraction,\r\n  date,\r\n  history,\r\n  search,\r\n}: ICardLastUpdate) {\r\n  let mediaType = \"anime\";\r\n  switch (type) {\r\n    case \"DUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"SUB\":\r\n      mediaType = \"anime\";\r\n      break;\r\n    case \"CINEMA\":\r\n      mediaType = \"cinema\";\r\n      break;\r\n    case \"MANGA\":\r\n      mediaType = \"manga\";\r\n      break;\r\n  }\r\n  const [cardData, setCardData] = React.useState({\r\n    loading: true,\r\n    error: undefined,\r\n    data: {\r\n      media: {\r\n        language: [],\r\n        poster: \"\",\r\n        status: \"\",\r\n        duraction: {\r\n          start: 0,\r\n          end: 0,\r\n        },\r\n        title: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n          alt: \"\",\r\n        },\r\n        description: {\r\n          be: \"\",\r\n          ru: \"\",\r\n          en: \"\",\r\n        },\r\n        country: \"\",\r\n        year: [],\r\n        studio: \"\",\r\n        genres: [],\r\n        translators: [],\r\n        dubbers: [],\r\n        editors: [],\r\n      },\r\n    },\r\n  });\r\n  const [currentType, setCurrentType] = React.useState(mediaType);\r\n  const { loading, error, data } = useQuery(GET_MEDIA, {\r\n    variables: {\r\n      slug: url,\r\n      mediaType: currentType,\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction) {\r\n      if (error && currentType === \"anime\") setCurrentType(\"cinema\");\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [error, currentType]);\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && !loading && !error && data) {\r\n      if (cardData.data !== data) {\r\n        setCardData({ loading, error, data });\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [cardData.data, loading, error, data]);\r\n\r\n  if (cardData.loading) return <LoadingCard />;\r\n  if (cardData.error) return <p>Error for {url}</p>;\r\n\r\n  return cardData.data !== null ? (\r\n    <div className=\"flex flex-col m-4\">\r\n      <div\r\n        className={style}\r\n        style={{\r\n          backgroundImage: `url(${`https://anibel.net/${cardData.data.media.poster}`})`,\r\n        }}\r\n      >\r\n        {cardData.data.media.language.length ? (\r\n          <Language\r\n            value={cardData.data.media.language}\r\n            mediaType={mediaType}\r\n            history={history}\r\n          />\r\n        ) : null}\r\n        {mediaType === \"manga\" && <MangaTag history={history} />}\r\n        <Status\r\n          value={duraction.start === duraction.end ? \"finished\" : \"ongoing\"}\r\n          duraction={duraction}\r\n          date={date}\r\n        />\r\n        <div className=\"w-1/3 self-center\">\r\n          <Poster\r\n            poster={cardData.data.media.poster}\r\n            title={cardData.data.media.title}\r\n            slug={url}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col w-2/3 h-72 overflow-y-auto scroll-none\">\r\n          <div className=\"bg-white bg-opacity-90 flex flex-col\">\r\n            <Title title={cardData.data.media.title} search={search} />\r\n            <TitleEn title={cardData.data.media.title} search={search} />\r\n            <Description\r\n              description={cardData.data.media.description}\r\n              search={search}\r\n            />\r\n            <Tags\r\n              mediaType={mediaType}\r\n              country={cardData.data.media.country}\r\n              year={cardData.data.media.year}\r\n              studio={cardData.data.media.studio}\r\n              genres={cardData.data.media.genres}\r\n              translators={cardData.data.media.translators}\r\n              dubbers={cardData.data.media.dubbers}\r\n              editors={cardData.data.media.editors}\r\n              history={history}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Watch\r\n        type={currentType}\r\n        slug={url}\r\n        title={cardData.data.media.title}\r\n        description={cardData.data.media.description}\r\n      />\r\n    </div>\r\n  ) : null;\r\n}\r\n","import * as React from \"react\";\r\nimport { GET_UPDATES_LIST } from \"../graphql/query\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport CardLastUpdate from \"../card/CardLastUpdate\";\r\nimport LoadingDots from \"../common/LoadingDots\";\r\nimport ToTop from \"../common/ToTop\";\r\n\r\ninterface ICardLastUpdate {\r\n  url: string;\r\n  type: string;\r\n  title: {\r\n    be: string;\r\n    en: string;\r\n  };\r\n  description: { be: string };\r\n  duraction: {\r\n    start: number;\r\n    end: number;\r\n  };\r\n  date: {\r\n    created: Date;\r\n    updated: Date;\r\n  };\r\n}\r\n\r\ninterface ILastUpdate {\r\n  type: string;\r\n  history: any;\r\n  search: string;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nexport default function LastUpdate({ type, history, search }: ILastUpdate) {\r\n  const DivRef = React.useRef<HTMLDivElement>(null);\r\n  const [docs, setDocs] = React.useState<ICardLastUpdate[]>([]);\r\n  const [pagination, setPagination] = React.useState(0);\r\n  const [limit, setLimit] = React.useState(0);\r\n\r\n  const { loading, error, data } = useQuery(GET_UPDATES_LIST, {\r\n    variables: {\r\n      offset: 0,\r\n      limit,\r\n      type: \"ALL\",\r\n    },\r\n    fetchPolicy: \"cache-and-network\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction && data) {\r\n      if (data.getUpdatesList.totalDocs > data.getUpdatesList.docs.length) {\r\n        setLimit(data.getUpdatesList.totalDocs);\r\n      } else {\r\n        setDocs(\r\n          data.getUpdatesList.docs\r\n            .filter((item: ICardLastUpdate) =>\r\n              type === \"ALL\" ? true : item.type === type\r\n            )\r\n            .filter((item: ICardLastUpdate) =>\r\n              search === \"\"\r\n                ? true\r\n                : item.title.be.includes(search) ||\r\n                  item.title.be.includes(\r\n                    search[0].toUpperCase() + search.slice(1)\r\n                  ) ||\r\n                  item.title.en.includes(search) ||\r\n                  item.title.en.includes(\r\n                    search[0].toUpperCase() + search.slice(1)\r\n                  ) ||\r\n                  item.description.be.includes(search) ||\r\n                  item.description.be.includes(\r\n                    search[0].toUpperCase() + search.slice(1)\r\n                  )\r\n            )\r\n        );\r\n      }\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [data, type, search]);\r\n\r\n  React.useEffect(() => {\r\n    let cleanupFunction = false;\r\n    if (!cleanupFunction) {\r\n      setPagination(docs.length < 10 ? docs.length : 10);\r\n    }\r\n    return () => {\r\n      cleanupFunction = true;\r\n    };\r\n  }, [docs.length]);\r\n\r\n  console.log(docs);\r\n\r\n  if (error) return <p>Error :(</p>;\r\n\r\n  const showMore = () => {\r\n    if (data && pagination !== docs.length) {\r\n      if (pagination + 10 < docs.length) {\r\n        setPagination(pagination + 10);\r\n      } else {\r\n        setPagination(docs.length);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleType = (type: string) => {\r\n    if (type === \"ALL\") {\r\n      history.push({ search: \"\" });\r\n    } else {\r\n      history.push({\r\n        search: `?type=${type}`,\r\n      });\r\n    }\r\n  };\r\n\r\n  return data && docs.length ? (\r\n    <div className=\"flex flex-col\" ref={DivRef}>\r\n      <div className=\"flex flex-wrap\">\r\n        <div\r\n          onClick={() => handleType(\"ALL\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"ALL\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          ALL\r\n        </div>\r\n        <div\r\n          onClick={() => handleType(\"dub\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"DUB\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          DUB\r\n        </div>\r\n        <div\r\n          onClick={() => handleType(\"sub\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"SUB\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          SUB\r\n        </div>\r\n        <div\r\n          onClick={() => handleType(\"manga\")}\r\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\r\n            type === \"MANGA\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n          }`}\r\n        >\r\n          MANGA\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-wrap\">\r\n        {docs.map(\r\n          (doc: ICardLastUpdate, index) =>\r\n            index < pagination && (\r\n              <CardLastUpdate\r\n                key={doc.url + doc.date.updated}\r\n                url={doc.url}\r\n                type={doc.type}\r\n                duraction={doc.duraction}\r\n                date={doc.date}\r\n                history={history}\r\n                search={search}\r\n              />\r\n            )\r\n        )}\r\n        {data && pagination !== docs.length ? (\r\n          <div\r\n            className={`select-none cursor-pointer flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900 ${hoverStyle}`}\r\n            onClick={showMore}\r\n          >\r\n            <div>show more</div>\r\n            <div>\r\n              {pagination} from {docs.length}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className={`select-none flex flex-col my-4 justify-center items-center w-full h-18 text-white text-xl bg-indigo-900`}\r\n          >\r\n            <div>no more</div>\r\n            <div>\r\n              {pagination} from {docs.length}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <ToTop pagination={pagination} divRef={DivRef} />\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-white m-4\">\r\n      {loading ? <LoadingDots /> : !docs.length ? \"NOT FOUND\" : null}\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport Card from \"../card/Card\";\r\nimport { useLocalStorage } from \"../useLocalStorage\";\r\n\r\ninterface IMark {\r\n  slug: string;\r\n  mediaType: string;\r\n  title: {\r\n    be: string;\r\n    en: string;\r\n  };\r\n  description: {\r\n    be: string;\r\n  };\r\n}\r\n\r\ninterface IMarks {\r\n  history: any;\r\n  search: string;\r\n}\r\n\r\nexport default function Marks({ history, search }: IMarks) {\r\n  const [marksStore] = useLocalStorage(\"marks\", []);\r\n\r\n  const [markDocs, setMarkDocs] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    setMarkDocs(\r\n      marksStore.filter((item: IMark) =>\r\n        search === \"\"\r\n          ? true\r\n          : item.title.be.includes(search) ||\r\n            item.title.be.includes(search[0].toUpperCase() + search.slice(1)) ||\r\n            item.title.en.includes(search) ||\r\n            item.title.en.includes(search[0].toUpperCase() + search.slice(1)) ||\r\n            item.description.be.includes(search) ||\r\n            item.description.be.includes(\r\n              search[0].toUpperCase() + search.slice(1)\r\n            )\r\n      )\r\n    );\r\n  }, [search, marksStore]);\r\n\r\n  return markDocs.length ? (\r\n    <div className=\"flex flex-wrap\">\r\n      {markDocs.map((mark: IMark, index: number) => (\r\n        <Card\r\n          key={mark.slug}\r\n          mediaId={index}\r\n          slug={mark.slug}\r\n          mediaType={mark.mediaType}\r\n          history={history}\r\n          search={search}\r\n        />\r\n      ))}\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-white m-4\">NOT FOUND</div>\r\n  );\r\n}\r\n","export default function Background() {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`\r\n        top-0 \r\n        back \r\n        fixed\r\n        h-screen \r\n        w-screen\r\n        bg-indigo-900\r\n        \r\n        `}\r\n      ></div>\r\n      <div\r\n        className={`\r\n      top-0 \r\n      back \r\n      fixed\r\n      h-screen \r\n      w-screen\r\n      bg-gradient-to-b from-black via-indigo-900 to-black\r\n      opacity-50\r\n      `}\r\n      ></div>\r\n      <div\r\n        className={`\r\n      top-0 \r\n      back \r\n      fixed\r\n      h-screen \r\n      w-screen\r\n      bg-gradient-to-r from-black via-gray-900 to-black\r\n      opacity-30\r\n      `}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n","import queryString from \"query-string\";\r\ninterface ITag {\r\n  tag: string;\r\n  value: string | number;\r\n  history: any;\r\n}\r\nconst style = `\r\n    select-none\r\n    cursor-pointer\r\n    bg-indigo-900\r\n    max-w-max\r\n    text-white\r\n    px-1\r\n    mb-1\r\n    ml-1\r\n    hover:bg-indigo-400\r\n    `;\r\n\r\nexport default function FilterTag({ tag, value, history }: ITag) {\r\n  const handleDeleteSearchTag = () => {\r\n    if (history.location.search.slice(1).split(\"&\").length > 1) {\r\n      history.push({\r\n        search: `?${queryString.stringify({\r\n          ...queryString.parse(history.location.search),\r\n          [`${tag}`]: undefined,\r\n        })}`,\r\n      });\r\n    } else {\r\n      history.push({\r\n        search: ``,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={Math.random().toString()}\r\n      className={style}\r\n      title={`delete ${value} from search`}\r\n      onClick={() => handleDeleteSearchTag()}\r\n    >\r\n      {decodeURI(value.toString())}\r\n    </div>\r\n  );\r\n}\r\n","import FilterTag from \"../tags/FilterTag\";\r\n\r\ninterface IFilters {\r\n  history: any;\r\n}\r\n\r\nexport default function Filters({ history }: IFilters) {\r\n  return history.location.search ? (\r\n    <div className=\"fixed right-1 top-1/3 flex-col text-indigo-900 z-10 bg-white bg-opacity-90 p-1\">\r\n      <div>Filters:</div>\r\n      {history.location.search\r\n        .slice(1)\r\n        .split(\"&\")\r\n        .map((item: string) => {\r\n          return (\r\n            item && (\r\n              <FilterTag\r\n                key={item}\r\n                tag={item.split(\"=\")[0]}\r\n                value={item.split(\"=\")[1]}\r\n                history={history}\r\n              />\r\n            )\r\n          );\r\n        })}\r\n    </div>\r\n  ) : null;\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface ISearch {\r\n  search: string;\r\n  handleSearch: (value: string) => void;\r\n}\r\n\r\nconst hoverStyle = `${\r\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n    ? \"\"\r\n    : \"hover:bg-indigo-400\"\r\n}`;\r\n\r\nexport default function Search({ search, handleSearch }: ISearch) {\r\n  const [searchOpen, setSearchOpen] = React.useState(false);\r\n  const searchChange = (event: React.FormEvent<HTMLInputElement>) => {\r\n    handleSearch(event.currentTarget.value.trim());\r\n  };\r\n  const clearSearch = () => {\r\n    setSearchOpen(!searchOpen);\r\n    handleSearch(\"\");\r\n  };\r\n  return (\r\n    <div className=\"flex justify-end w-full max-w-sm self-end m-1\">\r\n      <input\r\n        className={`${\r\n          searchOpen\r\n            ? \"transition ease-linear opacity-100 w-full px-2 text-xl appearance-none focus:outline-none focus:shadow-outline\"\r\n            : \"transition ease-linear opacity-0 w-0\"\r\n        }`}\r\n        value={search}\r\n        onChange={searchChange}\r\n        placeholder=\"search for title or description\"\r\n      />\r\n      <button\r\n        onClick={clearSearch}\r\n        className={`select-none appearance-none focus:outline-none focus:shadow-outline transition ease-linear cursor-pointer text-white text-xl p-2 ${hoverStyle} ${\r\n          searchOpen ? \"bg-indigo-400\" : \"bg-indigo-900\"\r\n        }`}\r\n      >\r\n        search\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\nimport \"./App.css\";\nimport ShowCase from \"./showCases/ShowCase\";\nimport LastUpdate from \"./showCases/LastUpdate\";\nimport Marks from \"./showCases/Marks\";\nimport Background from \"./common/Background\";\nimport history from \"history/browser\";\nimport queryString from \"query-string\";\nimport Filters from \"./common/Filters\";\nimport Search from \"./common/Search\";\n\nconst hoverStyle = `${\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n    navigator.userAgent\n  )\n    ? \"\"\n    : \"hover:bg-indigo-400\"\n}`;\n\nexport default function App() {\n  const [mediaType, setMediaType] = React.useState<string>(() => {\n    if (history.location.pathname === \"/avomova/\") {\n      return \"ALL\";\n    } else if (history.location.pathname === \"/avomova/marks\") {\n      return \"marks\";\n    } else {\n      return history.location.pathname.split(\"/\")[2];\n    }\n  });\n  const [type, setType] = React.useState(() => {\n    if (queryString.parse(history.location.search).type === \"manga\") {\n      return \"MANGA\";\n    } else if (queryString.parse(history.location.search).type === \"dub\") {\n      return \"DUB\";\n    } else if (queryString.parse(history.location.search).type === \"sub\") {\n      return \"SUB\";\n    } else {\n      return \"ALL\";\n    }\n  });\n  const [filters, setFilters] = React.useState(\n    history.location.search === \"\"\n      ? {}\n      : queryString.parse(history.location.search)\n  );\n\n  const [search, setSearch] = React.useState(\"\");\n\n  React.useEffect(() => {\n    const unlisten = history.listen(({ location, action }) => {\n      if (location.pathname === \"/avomova/\") {\n        setMediaType(\"ALL\");\n      } else if (location.pathname === \"/avomova/marks\") {\n        setMediaType(\"marks\");\n      } else {\n        setMediaType(location.pathname.split(\"/\")[2]);\n      }\n\n      if (queryString.parse(location.search).type === \"manga\") {\n        setType(\"MANGA\");\n      } else if (queryString.parse(location.search).type === \"dub\") {\n        setType(\"DUB\");\n      } else if (queryString.parse(location.search).type === \"sub\") {\n        setType(\"SUB\");\n      } else {\n        setType(\"ALL\");\n      }\n\n      setFilters(\n        location.search === \"\" ? {} : queryString.parse(location.search)\n      );\n    });\n    return () => unlisten();\n  });\n\n  const handleShowCaseSettings = (type: string) => {\n    if (type === \"\") {\n      history.push({ pathname: `/avomova/`, search: \"\" });\n    } else {\n      history.push({ pathname: `/avomova/${type}`, search: \"\" });\n    }\n  };\n\n  const handleSearch = (value: string) => {\n    setSearch(value);\n  };\n\n  return (\n    <div className=\"App flex flex-col\">\n      <div className=\"text-white mb-2\">\n        based on{\" \"}\n        <a className=\"hover:underline\" href=\"https://anibel.net/\">\n          ANIBEL.NET\n        </a>\n      </div>\n      <div className=\"text-white text-4xl font-bold p-2\">&#9983; AVOMOVA</div>\n      <div className=\"flex flex-wrap justify-end select-none \">\n        <div\n          onClick={() => handleShowCaseSettings(\"\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"ALL\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          last update\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"anime\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"anime\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          anime\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"manga\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"manga\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          manga\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"cinema\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"cinema\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          cinema\n        </div>\n        <div\n          onClick={() => handleShowCaseSettings(\"marks\")}\n          className={`transition ease-linear cursor-pointer text-white text-xl p-2 m-1 ${hoverStyle} ${\n            mediaType === \"marks\" ? \"bg-indigo-400\" : \"bg-indigo-900\"\n          }`}\n        >\n          marks\n        </div>\n      </div>\n      <Search search={search} handleSearch={handleSearch} />\n      <Filters history={history} />\n      <div>\n        {mediaType === \"ALL\" ? (\n          <LastUpdate\n            type={type}\n            history={history}\n            search={search.length > 1 ? search : \"\"}\n          />\n        ) : mediaType === \"marks\" ? (\n          <Marks history={history} search={search.length > 1 ? search : \"\"} />\n        ) : (\n          <ShowCase\n            mediaType={mediaType}\n            filters={filters}\n            history={history}\n            search={search.length > 1 ? search : \"\"}\n          />\n        )}\n      </div>\n      <Background />\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { ApolloProvider } from \"@apollo/client/react\";\nimport { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst client = new ApolloClient({\n  uri: \"https://api-beta.anibel.net/graphql\",\n  cache: new InMemoryCache({\n    typePolicies: {\n      Media: {\n        merge(existing = {}, incoming: {}) {\n          return { existing, ...incoming };\n        },\n      },\n    },\n  }),\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n    ,\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}